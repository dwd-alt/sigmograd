<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGMOGRAD | Minecraft Сервер</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --main-color: #4CAF50;
            --accent-color: #FFD700;
            --dark-bg: #1a1a1a;
            --darker-bg: #121212;
            --card-bg: #242424;
            --text-light: #f0f0f0;
            --war-color: #ff4444;
            --protest-color: #ffaa00;
            --peace-color: #4CAF50;
            --alert-color: #ff8800;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            line-height: 1.6;
            background-image: url('https://i.imgur.com/7R6m9Qa.png');
            background-attachment: fixed;
            background-size: cover;
        }
        .overlay {
            background-color: rgba(0, 0, 0, 0.85);
            min-height: 100vh;
        }
        header {
            background-color: var(--darker-bg);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            border-bottom: 2px solid var(--main-color);
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
        }
        nav ul li a {
            color: var(--main-color);
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            display: block;
            font-weight: bold;
            transition: all 0.3s ease;
            border-radius: 4px;
            margin: 0.2rem;
        }
        nav ul li a:hover {
            background-color: var(--main-color);
            color: var(--darker-bg);
            transform: translateY(-2px);
        }
        .logo {
            text-align: center;
            padding: 2rem 0;
            font-size: 2.5rem;
            color: var(--accent-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        section {
            padding: 3rem 0;
        }
        h1, h2, h3 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--accent-color);
        }
        h2 {
            border-bottom: 2px solid var(--main-color);
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        .server-ip {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(145deg, var(--darker-bg), var(--card-bg));
            padding: 1.2rem;
            border-radius: 8px;
            margin: 2rem 0;
            cursor: pointer;
            user-select: all;
            border: 1px solid var(--main-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        .server-ip:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
        }
        .server-ip i {
            margin-right: 10px;
        }
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .city-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.8rem;
            border-radius: 10px;
            border-left: 5px solid var(--main-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        .city-card:hover {
            transform: translateY(-5px);
        }
        .city-card h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }
        .content-box {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid #444;
            background-color: #333;
            color: var(--text-light);
        }
        .btn {
            background-color: var(--main-color);
            color: var(--darker-bg);
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
        }
        .btn:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
        }
        .announcement {
            background-color: rgba(255, 215, 0, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        .announcement h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        footer {
            background-color: var(--darker-bg);
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
            border-top: 2px solid var(--main-color);
        }
        .discord-widget {
            background-color: #5865F2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: inline-block;
        }

        /* Стили для раздела заявок на модератора */
        .moderator-application {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border-left: 4px solid var(--accent-color);
        }
        .application-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .application-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #444;
        }
        .application-card h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        .application-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.5rem 0;
        }
        .status-pending {
            background-color: #ff9800;
        }
        .status-approved {
            background-color: #4CAF50;
        }
        .status-rejected {
            background-color: #f44336;
        }
        .application-actions {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
        }
        .btn-approve {
            background-color: #4CAF50;
            color: white;
        }
        .btn-reject {
            background-color: #f44336;
            color: white;
        }

        /* Стили для модального окна модов */
        .mods-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        .mods-modal-content {
            background-color: var(--darker-bg);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--main-color);
        }
        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-modal:hover {
            color: var(--accent-color);
        }
        .mods-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .mod-item {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }
        .mod-item h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        .download-btn {
            background: linear-gradient(145deg, var(--main-color), #45a049);
            color: white;
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
            display: inline-block;
            width: auto;
        }
        .download-btn:hover {
            background: linear-gradient(145deg, #45a049, var(--main-color));
        }
        .download-all-btn {
            background: linear-gradient(145deg, #FFD700, #FFA500);
            color: var(--darker-bg);
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            margin: 1rem 0;
            display: block;
            width: 100%;
            text-align: center;
        }
        .download-all-btn:hover {
            background: linear-gradient(145deg, #FFA500, #FF8C00);
        }
        .download-mod-btn {
            background-color: var(--main-color);
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 0.5rem;
            width: 100%;
        }
        .download-mod-btn:hover {
            background-color: #45a049;
        }

        /* Стили для админ-панели */
        .admin-panel {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid #e74c3c;
        }
        .admin-section {
            margin-bottom: 2rem;
        }
        .status-indicator {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            margin: 0.5rem;
            cursor: pointer;
        }
        .status-war { background-color: var(--war-color); }
        .status-protest { background-color: var(--protest-color); }
        .status-peace { background-color: var(--peace-color); }
        .status-alert { background-color: var(--alert-color); }

        /* Стили для раздела игроков */
        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .player-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--accent-color);
        }
        .player-role {
            font-weight: bold;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            margin: 0.5rem 0;
            display: inline-block;
        }
        .role-owner { background-color: #e74c3c; }
        .role-admin { background-color: #9b59b6; }
        .role-moderator { background-color: #3498db; }
        .role-player { background-color: #2ecc71; }

        /* Стили для новостей */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .news-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .news-content {
            padding: 1.5rem;
        }
        .news-date {
            color: var(--accent-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .news-video {
            width: 100%;
            height: 200px;
            background: #000;
        }

        /* Скрытые элементы */
        .hidden {
            display: none;
        }

        /* Новые стили для добавленных разделов */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .calendar-event {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
        }
        .event-date {
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .event-type {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.5rem 0;
            background-color: #5865F2;
        }
        .event-important { background-color: #e74c3c; }
        .event-update { background-color: #2ecc71; }
        .event-vote { background-color: #f39c12; }

        .history-timeline {
            position: relative;
            margin: 2rem 0;
            padding-left: 2rem;
            border-left: 3px solid var(--accent-color);
        }
        .history-event {
            margin-bottom: 2rem;
            position: relative;
        }
        .history-date {
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .history-event:before {
            content: '';
            position: absolute;
            left: -2.5rem;
            top: 0.3rem;
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background: var(--accent-color);
        }

        .economy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .economy-item {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }
        .currency-rate {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
            margin: 0.5rem 0;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        .gallery-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            height: 200px;
            cursor: pointer;
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.5rem;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .gallery-item:hover .gallery-caption {
            opacity: 1;
        }

        .file-upload {
            background: #333;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            text-align: center;
            cursor: pointer;
            border: 2px dashed #555;
        }
        .file-upload:hover {
            background: #444;
        }

        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            nav ul li {
                width: 100%;
                text-align: center;
            }
            .application-grid {
                grid-template-columns: 1fr;
            }
            .mods-list {
                grid-template-columns: 1fr;
            }
            .players-grid {
                grid-template-columns: 1fr;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
            .calendar-grid {
                grid-template-columns: 1fr;
            }
            .economy-grid {
                grid-template-columns: 1fr;
            }
            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <div class="container">
                <nav>
                    <ul>
                        <li><a href="#home"><i class="fas fa-home"></i> Главная</a></li>
                        <li><a href="#about"><i class="fas fa-info-circle"></i> О сервере</a></li>
                        <li><a href="#map"><i class="fas fa-map"></i> Карта</a></li>
                        <li><a href="#cities"><i class="fas fa-city"></i> Города и страны</a></li>
                        <li><a href="#moderator"><i class="fas fa-user-shield"></i> Стать модератором</a></li>
                        <li><a href="#players"><i class="fas fa-users"></i> Игроки</a></li>
                        <li><a href="#news"><i class="fas fa-newspaper"></i> Новости</a></li>
                        <li><a href="#calendar"><i class="fas fa-calendar"></i> Календарь</a></li>
                        <li><a href="#history"><i class="fas fa-history"></i> История</a></li>
                        <li><a href="#economy"><i class="fas fa-coins"></i> Экономика</a></li>
                        <li><a href="#gallery"><i class="fas fa-images"></i> Галерея</a></li>
                        <li><a href="#info"><i class="fas fa-server"></i> Информация</a></li>
                        <li><a href="#rules"><i class="fas fa-gavel"></i> Правила</a></li>
                        <li><a href="#market"><i class="fas fa-store"></i> Торговля</a></li>
                        <li><a href="#orders"><i class="fas fa-truck-loading"></i> Заказы</a></li>
                        <li><a href="#" onclick="showAdminPanel(); return false;"><i class="fas fa-cog"></i> Админ</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            <section id="home">
                <div class="container">
                    <div class="logo">
                        <i class="fas fa-cube"></i> SIGMOGRAD
                    </div>
                    <h1>Добро пожаловать на политический и дружеский сервер</h1>
                    <p style="text-align: center; font-size: 1.2rem;">Спокойная атмосфера без войн. Строй, общайся, развивай свои города!</p>
                    <div class="server-ip" onclick="copyIP()">
                        <i class="fas fa-copy"></i> SIGMOGRAD.aternos.me:51798
                    </div>

                    <!-- Индикатор статуса мира -->
                    <div class="content-box" id="world-status-box">
                        <h3>Текущее положение в мире</h3>
                        <div id="world-status-display">
                            <span class="status-indicator status-peace" id="current-status">Мирное время</span>
                        </div>
                        <p id="status-description">На сервере царит мир и спокойствие. Игроки занимаются строительством и развитием.</p>
                    </div>
                </div>
            </section>

            <section id="about">
                <div class="container">
                    <h2>О нашем сервере</h2>
                    <div class="content-box">
                        <p>Добро пожаловать в <strong>SIGMOGRAD</strong>! Наш сервер создан для тех, кто ищет спокойной и дружеской атмосферы без гриферства и войн.</p>
                        <p>Мы делаем акцент на:</p>
                        <ul>
                            <li>Создании и развитии городов и государств</li>
                            <li>Политическом ролевом взаимодействии</li>
                            <li>Совместных проектах и строительстве</li>
                            <li>Торговле и экономике</li>
                            <li>Дружеском общении и взаимопомощи</li>
                        </ul>
                        <p>Присоединяйся к нашему растущему сообществу!</p>
                    </div>
                </div>
            </section>

            <section id="map">
                <div class="container">
                    <h2>Карта Сервера</h2>
                    <div class="content-box">
                        <p>Посмотри на наши текущие постройки и города! Скоро здесь появится интерактивная карта.</p>
                        <div style="height: 400px; border-radius: 10px; overflow: hidden; border: 2px solid var(--main-color);">
                            <img src="karta.png"
                                 alt="Карта сервера SIGMOGRAD"
                                 style="width: 100%; height: 100%; object-fit: cover;"
                                 onerror="this.src='https://i.imgur.com/7R6m9Qa.png'">
                        </div>
                        <p style="margin-top: 1rem; text-align: center;">
                            <em>Карта мира SIGMOGRAD. Исследуй и строй!</em>
                        </p>
                    </div>
                </div>
            </section>

            <section id="cities">
                <div class="container">
                    <h2>Города и страны</h2>
                    <p>На нашем сервере уже образовались первые государства. Присоединяйся к одному из них или основай свой собственный город!</p>

                    <div class="cities-grid">
                        <div class="city-card">
                            <h3>Сигмоград</h3>
                            <p><strong>Тип:</strong> Столица</p>
                            <p><strong>Лидер:</strong> Основатель сервера</p>
                            <p><strong>Население:</strong> Растет</p>
                            <p><strong>Описание:</strong> Столичный мегаполис и административный центр сервера. Развитая инфраструктура и архитектура.</p>
                        </div>
                        <div class="city-card">
                            <h3>Бульмения</h3>
                            <p><strong>Тип:</strong> Город-государство</p>
                            <p><strong>Лидер:</strong> Нужен мэр</p>
                            <p><strong>Население:</strong> Открыт для заселения</p>
                            <p><strong>Описание:</strong> Спокойный город с упором на сельское хозяйство и традиционные ремесла. Ищет активных жителей!</p>
                        </div>
                        <div class="city-card">
                            <h3>Ваш город?</h3>
                            <p><strong>Тип:</strong> Свободные земли</p>
                            <p><strong>Лидер:</strong> Ты!</p>
                            <p><strong>Население:</strong> 0/∞</p>
                            <p><strong>Описание:</strong> Оснуй собственное государство! Получи помощь от администрации при основании.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Новая секция: Заявки на модератора -->
            <section id="moderator">
                <div class="container">
                    <h2><i class="fas fa-user-shield"></i> Стать модератором</h2>
                    <div class="content-box">
                        <p>Хочешь помочь в развитии сервера и поддержании порядка? Заполни заявку на должность модератора!</p>

                        <div class="moderator-application">
                            <h3>Подать заявку</h3>
                            <form id="moderator-form">
                                <div class="form-group">
                                    <label for="applicant-name">Ваш игровой ник:</label>
                                    <input type="text" id="applicant-name" required placeholder="Например: SigmaPro">
                                </div>
                                <div class="form-group">
                                    <label for="applicant-age">Ваш возраст:</label>
                                    <input type="number" id="applicant-age" required min="14" placeholder="Например: 18">
                                </div>
                                <div class="form-group">
                                    <label for="applicant-discord">Ваш Discord:</label>
                                    <input type="text" id="applicant-discord" required placeholder="Например: SigmaPro#1234">
                                </div>
                                <div class="form-group">
                                    <label for="applicant-experience">Опыт модерации (если есть):</label>
                                    <textarea id="applicant-experience" rows="3" placeholder="Опишите ваш опыт модерации на других серверах"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="applicant-reason">Почему вы хотите стать модератором?</label>
                                    <textarea id="applicant-reason" rows="4" required placeholder="Расскажите, почему мы должны выбрать именно вас"></textarea>
                                </div>
                                <button type="button" class="btn" onclick="submitModeratorApplication()">
                                    <i class="fas fa-paper-plane"></i> Отправить заявку
                                </button>
                            </form>
                        </div>

                        <div id="application-success" class="announcement hidden">
                            <h4><i class="fas fa-check-circle"></i> Заявка отправлена!</h4>
                            <p>Ваша заявка на модератора успешно отправлена. Мы рассмотрим её в ближайшее время и свяжемся с вами через Discord.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Секция: Игроки -->
            <section id="players">
                <div class="container">
                    <h2><i class="fas fa-users"></i> Состав игроков</h2>
                    <div class="players-grid" id="players-list">
                        <!-- Игроки будут добавляться через JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Секция: Новости -->
            <section id="news">
                <div class="container">
                    <h2><i class="fas fa-newspaper"></i> Последние новости</h2>
                    <div class="news-grid" id="news-list">
                        <!-- Новости будут добавляться через JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Новая секция: Календарь событий -->
            <section id="calendar">
                <div class="container">
                    <h2><i class="fas fa-calendar"></i> Календарь событий</h2>
                    <div class="content-box">
                        <p>Будь в курсе всех предстоящих событий на сервере! Участвуй в ивентах, голосованиях и обновлениях.</p>

                        <div class="calendar-grid" id="calendar-events">
                            <!-- События будут добавляться через JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Новая секция: История мира -->
            <section id="history">
                <div class="container">
                    <h2><i class="fas fa-history"></i> История мира</h2>
                    <div class="content-box">
                        <p>Хронология важнейших событий на сервере: основание городов, подписание договоров, войны и мирные соглашения.</p>

                        <div class="history-timeline" id="history-timeline">
                            <!-- События истории будут добавляться через JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Новая секция: Экономика -->
            <section id="economy">
                <div class="container">
                    <h2><i class="fas fa-coins"></i> Экономика сервера</h2>
                    <div class="content-box">
                        <p>Актуальные экономические показатели, курсы валют и список магазинов.</p>

                        <h3>Курсы валют</h3>
                        <div class="economy-grid" id="currency-rates">
                            <!-- Курсы валют будут добавляться через JavaScript -->
                        </div>

                        <h3 style="margin-top: 2rem;">Список магазинов</h3>
                        <div id="shops-list">
                            <!-- Магазины будут добавляться через JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Новая секция: Галерея -->
            <section id="gallery">
                <div class="container">
                    <h2><i class="fas fa-images"></i> Галерея построек</h2>
                    <div class="content-box">
                        <p>Лучшие скриншоты построек наших игроков. Если хочешь, чтобы твоя постройка появилась здесь, отправь скриншот администрации!</p>

                        <div class="gallery-grid" id="gallery-container">
                            <!-- Галерея будет заполняться через JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <section id="info">
                <div class="container">
                    <h2>Информация для подключения</h2>

                    <div class="content-box">
                        <h3><i class="fas fa-network-wired"></i> IP-адрес сервера</h3>
                        <div class="server-ip" onclick="copyIP()">
                            <i class="fas fa-copy"></i> SIGMOGRAD.aternos.me:51798
                        </div>
                    </div>

                    <div class="content-box">
                        <h3><i class="fas fa-code-branch"></i> Версия и моды</h3>
                        <p><strong>Версия:</strong> Minecraft Java Edition 1.20.4</p>
                        <p><strong>Сборка:</strong> Forge + OptiFine</p>
                        <p><strong>Обязательные моды:</strong>
                            <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.9rem;" onclick="openModsModal()">
                                <i class="fas fa-download"></i> Скачать моды
                            </button>
                        </p>
                    </div>

                    <div class="content-box">
                        <h3><i class="fas fa-question-circle"></i> Как подключиться?</h3>
                        <ol>
                            <li>Установи Forge для версии 1.20.4</li>
                            <li>Установи OptiFine (опционально, для улучшения FPS)</li>
                            <li>Скачай и помести необходимые моды в папку <code>mods</code></li>
                            <li>Запусти игру, выбери соответствующий профиль Forge</li>
                            <li>Добавь наш сервер в список через "Мультиплеер"</li>
                            <li>Подключайся и наслаждайся!</li>
                        </ol>
                    </div>
                </div>
            </section>

            <section id="rules">
    <div class="container">
        <h2>Правила сервера</h2>
        <div class="content-box">
            <div class="announcement">
                <h4>Основной принцип</h4>
                <p>Уважай других игроков и их труд. Мы здесь чтобы получать удовольствие от игры вместе.</p>
            </div>

            <h3>📜 ОФИЦИАЛЬНЫЙ СВОД ПРАВИЛ (УСТАВ) СЕРВЕРА</h3>
            <p><strong>Основной принцип:</strong> Данный сервер является дружеской политико-экономической симуляцией. Все конфликты должны решаться через дипломатию, законы игровых государств или администрацию. Война — это крайняя, регулируемая мера.</p>

            <h4>РАЗДЕЛ I: ОСНОВНЫЕ ПРАВИЛА (OOC)</h4>
            <h5>Глава 1: Общение и поведение</h5>
            <ol>
                <li><strong>Запрещены любые формы оскорблений, унижений, буллинга (травли) и дискриминации.</strong></li>
                <li><strong>Запрещены провокации, разжигание конфликтов на расовой, национальной, религиозной, половой или иной почве.</strong></li>
                <li><strong>Запрещен спам и флуд в любых чатах (повторение однотипных сообщений, большое количество знаков).</strong></li>
                <li><strong>Запрещен чрезмерный капслок (НАПИСАНИЕ ЗАГЛАВНЫМИ БУКВАМИ) кроме как для выделения важной информации.</strong></li>
                <li><strong>Запрещена реклама других игр, серверов, проектов, социальных сетей и ресурсов без прямого разрешения Администрации.</strong></li>
                <li><strong>Запрещены любые формы вымогательства, попрошайничества у игроков и, в особенности, у администрации («дайте админку», «дайте вещи» и т.д.).</strong></li>
                <li><strong>Запрещены дезинформация и введение игроков в заблуждение с корыстными целями.</strong></li>
                <li><strong>Запрещены ники, содержащие нецензурную лексику, оскорбительные или провокационные слова.</strong></li>
                <li><strong>Запрещены скины, содержащие порнографию, непристойности, пропаганду насилия или экстремистские элементы.</strong></li>
                <li><strong>Запрещено обсуждение тем, нарушающих законодательство вашей страны.</strong></li>
                <li><strong>Запрещено impersonation (выдача себя за другого игрока, члена администрации или известную личность).</strong></li>
                <li><strong>Соблюдайте тему каналов в Discord (оффтоп только в разрешенных для этого местах).</strong></li>
                <li><strong>Английский и другие языки разрешены, но основной язык общения — русский. Не злоупотребляйте иностранными языками в общем чате.</strong></li>
                <li><strong>Запрещено публиковать личную информацию других лиц (doxing) без их согласия.</strong></li>
                <li><strong>Уважайте всех участников сообщества, включая администраторов и модераторов.</strong></li>
            </ol>

            <h5>Глава 2: Игровой процесс и читерство</h5>
            <ol start="16">
                <li><strong>Запрещено использование любых сторонних программ (читы, клиенты), дающих нечестное преимущество.</strong></li>
                <li><strong>Запрещен X-Ray (текстуры, моды, клиенты, позволяющие видеть сквозь блоки). Исключение — официально разрешенный мод.</strong></li>
                <li><strong>Запрещен Fly (полеты в нережиме креатива или без разрешения).</strong></li>
                <li><strong>Запрещены любые виды автокликеров, макросов, авто-постановки блоков и авто-еды для получения преимущества.</strong></li>
                <li><strong>Запрещены любые программы для чтения чужих приватных сообщений или чатов (spy-моды).</strong></li>
                <li><strong>Запрещено использование багов игры и плагинов для получения выгоды (багоюз). Об обнаруженных багах необходимо сообщать администрации.</strong></li>
                <li><strong>Запрещены любые методы дублирования предметов (дюп), даже если они являются багом ванильной игры.</strong></li>
                <li><strong>Запрещено intentionally вызывать лаги сервера (например, создание машин из раздатчиков, лава-генераторы, сброс большого количества entities (сущностей).</strong></li>
                <li><strong>Запрещено гриферить (портить чужие постройки, убивать животных, заливать лавой, ломать блоки без разрешения).</strong></li>
                <li><strong>Запрещено воровать предметы из чужих сундуков, рамок, вагонеток и т.д., если они не находятся на нейтральной территории без защиты.</strong></li>
                <li><strong>Запрещено убивать других игроков без объявления войны или вне зон PvP (см. раздел о войнах).</strong></li>
                <li><strong>Запрещено строить неприличные, непристойные или портящие общий вид ландшафта постройки на общих территориях.</strong></li>
                <li><strong>Запрещено intentionally мешать игре других игроков (блокировать проходы, загораживать дверь, ставить блоки под игроком).</strong></li>
                <li><strong>Запрещено занимать большие территории без последующего освоения (требование к минимальному строительству на зачеймленной земле).</strong></li>
                <li><strong>Запрещено создавать автоматические фермы мобов, негативно влияющие на производительность сервера (без согласования с администрацией).</strong></li>
                <li><strong>Запрещено бросать большое количество предметов на землю с целью создания лагов.</strong></li>
                <li><strong>Запрещено использование именных предметов (name tag) для оскорблений.</strong></li>
                <li><strong>Запрещено использование книг и табличек для размещения запрещенного контента.</strong></li>
            </ol>

            <h4>РАЗДЕЛ II: ПОЛИТИЧЕСКОЕ УСТРОЙСТВО И ГЕОПОЛИТИКА</h4>
            <h5>Глава 3: Создание и статус государства</h5>
            <ol start="34">
                <li><strong>Государство считается созданным после выполнения трех условий: объявление в общем чате (/n create), наличие группы из минимум 2-3 активных граждан и обозначение территории.</strong></li>
                <li><strong>Территория государства должна быть четко обозначена (столбы, стена, таблички с названием государства).</strong></li>
                <li><strong>Обязательно создание канала в Discord вашего государства с указанием состава граждан, законов, правил вступления и границ.</strong></li>
                <li><strong>Название государства не должно содержать оскорбительных или провокационных слов.</strong></li>
                <li><strong>Государство имеет право на суверенитет и неприкосновенность своих границ.</strong></li>
                <li><strong>Право на землю определяется фактом ее освоения и закрепления. Пустые заявки на гигантские территории могут быть оспорены.</strong></li>
                <li><strong>Государство может иметь свою форму правления (республика, монархия, диктатура и т.д.).</strong></li>
                <li><strong>Государство может издавать собственные внутренние законы, если они не противоречат глобальным правилам сервера.</strong></li>
                <li><strong>Граждане государства обязаны подчиняться его внутренним законам.</strong></li>
                <li><strong>Лидер государства несет ответственность за действия своих граждан перед администрацией сервера.</strong></li>
                <li><strong>Государство может быть распущено по решению его граждан или по решению администрации в случае неактивности (мертвая нация).</strong></li>
                <li><strong>Для регистрации государства необходимо подать заявку в установленной форме в соответствующем канале Discord.</strong></li>
            </ol>

            <h5>Глава 4: Территория и границы</h5>
            <ol start="46">
                <li><strong>Территория государства включает в себя землю, недра, воздушное и водное пространство в пределах его границ.</strong></li>
                <li><strong>Запрещен незаконный захват территорий другого государства (аннексия).</strong></li>
                <li><strong>Разрешается создание демилитаризованных и нейтральных зон по договору между государствами.</strong></li>
                <li><strong>Строительство в непосредственной близости от границ другого государства без его разрешения считается провокацией.</strong></li>
                <li><strong>Все споры о границах решаются через дипломатические каналы или администрацию.</strong></li>
                <li><strong>Запрещено строительство выше ограничения по высоте (Y=256) без особого разрешения.</strong></li>
                <li><strong>Запрещено масштабное изменение ландшафта (выравнивание гор, осушение океанов) вблизи чужих территорий без согласования.</strong></li>
                <li><strong>Недра на территории государства принадлежат ему. Проход туннелей под чужими территориями без разрешения запрещен.</strong></li>
            </ol>

            <h5>Глава 5: Дипломатия и международное право</h5>
            <ol start="54">
                <li><strong>Все государства признают друг друга суверенными и равноправными.</strong></li>
                <li><strong>Дипломатические отношения устанавливаются по согласию сторон.</strong></li>
                <li><strong>Разрешается создание международных организаций, союзов, альянсов и коалиций.</strong></li>
                <li><strong>Действуют все виды международных договоров: о ненападении, сотрудничестве, взаимопомощи, экстрадиции и т.д.</strong></li>
                <li><strong>Дипломатический иммунитет: послы и дипломаты неприкосновенны на территории другого государства.</strong></li>
                <li><strong>Запрещено шпионаж и диверсионная деятельность на территории другого государства без объявления войны.</strong></li>
                <li><strong>Право прохода: перемещение по территории другого государства разрешено только с explicit согласия его правительства.</strong></li>
                <li><strong>Беженцы: игроки, покинувшие свое государство по политическим причинам, могут запросить убежище в другом государстве.</strong></li>
                <li><strong>Экстрадиция: государства могут заключать договоры о выдаче преступников.</strong></li>
            </ol>

            <h5>Глава 6: Экономика и торговля</h5>
            <ol start="63">
                <li><strong>Каждое государство вправе устанавливать свою экономическую систему и валюту.</strong></li>
                <li><strong>Рекомендуется использовать плагины для создания магазинов (/shop, таблички).</strong></li>
                <li><strong>Запрещено мошенничество в торговых сделках (невыдача товара после оплаты или наоборот).</strong></li>
                <li><strong>Между государствами могут заключаться торговые соглашения.</strong></li>
                <li><strong>Разрешается создание международных торговых хабов и банков.</strong></li>
                <li><strong>Запрещен нечестный демпинг цен с целью подрыва экономики другого государства.</strong></li>
                <li><strong>Налоговая политика определяется внутренними законами государства.</strong></li>
                <li><strong>Права собственности на постройки и землю внутри государства регулируются его законами.</strong></li>
            </ol>

            <h4>РАЗДЕЛ III: ВОЙНА И КОНФЛИКТЫ (PvP)</h4>
            <h5>Глава 7: Объявление войны (ВАР - War Declaration)</h5>
            <ol start="71">
                <li><strong>Война является крайней мерой разрешения конфликта и должна быть официально объявлена.</strong></li>
                <li><strong>Объявление войны (Декларация) должно быть опубликовано в общем чате и дублировано в Discord.</strong></li>
                <li><strong>В декларации должны быть четко указаны: стороны конфликта, причины войны и цели.</strong></li>
                <li><strong>После объявления войны наступает период подготовки (24 часа). В этот период любые PvP действия между сторонами запрещены.</strong></li>
                <li><strong>Война не может быть объявлена государству, которое отсутствует онлайн более 72 часов.</strong></li>
                <li><strong>Война не может длиться вечно. Максимальный срок войны — 7 игровых дней. После этого вступает в силу принудительное перемирие от администрации.</strong></li>
                <li><strong>Нейтральные государства и новички (менее 7 дней на сервере) не могут быть втянуты в войну против их воли.</strong></li>
            </ol>

            <h5>Глава 8: Ведение боевых действий (Правила ведения войны)</h5>
            <ol start="78">
                <li><strong>Запрещено ведение боевых действий на нейтральных территориях (спавн, торговый хаб).</strong></li>
                <li><strong>Запрещено полное уничтожение (тотальный гриферство) инфраструктуры противника. Допустимы лишь точечные удары по военным и стратегическим объектам.</strong></li>
                <li><strong>Запрещено убийство мирных жителей (игроков, которые явно не участвуют в войне, не имеют брони/оружия).</strong></li>
                <li><strong>Запрещено воровство из сундуков, не относящихся к военным запасам (личные вещи игроков, ресурсы ферм). Захватывать можно только трофеи с тел убитых противников.</strong></li>
                <li><strong>Запрещено использование багов и недоработок плагинов для получения преимущества в войне.</strong></li>
                <li><strong>Запрещено брать в заложники игроков противника на длительный срок.</strong></li>
                <li><strong>Разрешены диверсии, штурмы укреплений, захват территорий.</strong></li>
                <li><strong>Разрешено создание концентрационных лагерей для военнопленных, но с соблюдением условий содержания (обеспечение едой, возможность побега или обмена).</strong></li>
                <li><strong>PvP разрешен только в пределах территорий воюющих сторон или на специально отведенных аренах.</strong></li>
                <li><strong>Запрещено использовать PvP-зону для уклонения от последствий войны (например, прятаться на спавне).</strong></li>
            </ol>

            <h5>Глава 9: Военнопленные и репарации</h5>
            <ol start="88">
                <li><strong>Военнопленный обязан подчиняться своим захватчикам на время плена.</strong></li>
                <li><strong>С военнопленным необходимо обращаться уважительно, без оскорблений (OOC).</strong></li>
                <li><strong>Пленник может быть освобожден за выкуп, в результате обмена или побега.</strong></li>
                <li><strong>Запрещено принуждать пленного к работе на вражеское государство.</strong></li>
                <li><strong>После окончания войны проигравшая сторона может быть обязана выплатить репарации (компенсацию) победителю. Размер и форма обсуждаются в мирном договоре.</strong></li>
                <li><strong>Мирный договор должен быть составлен в письменной форме и опубликован в общем чате.</strong></li>
            </ol>

            <h5>Глава 10: Вмешательство администрации</h5>
            <ol start="94">
                <li><strong>Администрация оставляет за собой право остановить любую войну, если она нарушает правила сервера или вредит комьюнити.</strong></li>
                <li><strong>Администрация может выступить арбитром в переговорах о перемирии.</strong></li>
                <li><strong>В случае нарушения правил ведения войны администрация может наказать нарушившую сторону и компенсировать ущерб пострадавшим.</strong></li>
            </ol>

            <h4>РАЗДЕЛ IV: АДМИНИСТРАТИВНЫЕ ПРАВИЛА И НАКАЗАНИЯ</h4>
            <h5>Глава 11: Права и обязанности игроков</h5>
            <ol start="97">
                <li><strong>Игрок имеет право на справедливое и уважительное отношение.</strong></li>
                <li><strong>Игрок имеет право подать жалобу (репорт) на нарушителя правил.</strong></li>
                <li><strong>Игрок обязан предоставить доказательства нарушения (скриншоты, видео, логи).</strong></li>
                <li><strong>Игрок имеет право отказаться от участия в военных действиях.</strong></li>
                <li><strong>Игрок имеет право свободно выбирать гражданство или быть путешественником.</strong></li>
                <li><strong>Игрок обязан знать и соблюдать правила сервера. Незнание правил не освобождает от ответственности.</strong></li>
            </ol>

            <h5>Глава 12: Права и обязанности модерации</h5>
            <ol start="103">
                <li><strong>Модератор обязан соблюдать правила сервера.</strong></li>
                <li><strong>Модератор должен быть объективен и беспристрастен.</strong></li>
                <li><strong>Модератор не имеет права использовать свои полномочия для личной выгоды в игре.</strong></li>
                <li><strong>Модератор обязан вежливо общаться с игроками.</strong></li>
                <li><strong>Модератор обязан рассматривать все поступающие жалобы.</strong></li>
                <li><strong>Модератор имеет право выносить наказания в соответствии с тяжестью нарушения.</strong></li>
                <li><strong>Модератор обязан вести запись всех вынесенных наказаний и их причин.</strong></li>
            </ol>

            <h5>Глава 13: Система наказаний</h5>
            <ol start="110">
                <li><strong>Наказания выносятся по кумулятивной системе (1 - предупреждение, 2 - мут/тюрьма, 3 - бан).</strong></li>
                <li><strong>Виды наказаний:</strong>
                    <ul>
                        <li><strong>Предупреждение:</strong> За незначительные нарушения.</li>
                        <li><strong>Мут:</strong> За нарушения в чате.</li>
                        <li><strong>Тюрьма:</strong> За гриферство, воровство, нарушения правил войны. Срок от 2 часов до 7 дней.</li>
                        <li><strong>Бан:</strong> За читерство, серьезные нарушения, повторные нарушения после тюрьмы. Срок от 7 дней до перманентного.</li>
                    </ul>
                </li>
                <li><strong>Срок наказания зависит от тяжести проступка и истории нарушений.</strong></li>
                <li><strong>Решение модератора может быть обжаловано у главы администрации через тикет-систему в Discord.</strong></li>
                <li><strong>Нарушения в состоянии алкогольного или наркотического опьянения не смягчают наказание.</strong></li>
            </ol>

            <h5>Глава 14: Процедура подачи жалобы</h5>
            <ol start="115">
                <li><strong>Жалоба подается исключительно через систему тикетов в Discord.</strong></li>
                <li><strong>В жалобе необходимо указать: ник нарушителя, дату и время нарушения, суть нарушения, доказательства (скриншоты/видео).</strong></li>
                <li><strong>Ложные жалобы и клевета наказываются баном.</strong></li>
                <li><strong>Публичное обсуждение действий модерации и текущих расследований запрещено.</strong></li>
            </ol>

            <h3>🎯 Что поощряется:</h3>
            <ul>
                <li>Создание и развитие городов</li>
                <li>Торговля и экономическое взаимодействие</li>
                <li>Совместные проекты и строительство</li>
                <li>Помощь новичкам</li>
                <li>Креативные и интересные постройки</li>
            </ul>
        </div>
    </div>
</section>

            <section id="market">
                <div class="container">
                    <h2>Торговля и объявления</h2>
                    <div class="content-box">
                        <!-- ... (остаток раздела торговли без изменений) ... -->
                    </div>
                </div>
            </section>

            <section id="orders">
                <div class="container">
                    <h2>Заказ ресурсов</h2>
                    <div class="content-box">
                        <!-- ... (остаток раздела заказов без изменений) ... -->
                    </div>
                </div>
            </section>

            <!-- Админ панель (скрыта по умолчанию) -->
            <section id="admin-panel" class="hidden">
                <div class="container">
                    <div class="admin-panel">
                        <h2><i class="fas fa-cog"></i> Панель администратора</h2>

                        <div class="admin-section">
                            <h3>Управление статусом мира</h3>
                            <div>
                                <button class="status-indicator status-peace" onclick="setWorldStatus('peace')">Мирное время</button>
                                <button class="status-indicator status-alert" onclick="setWorldStatus('alert')">Подготовка к войне</button>
                                <button class="status-indicator status-protest" onclick="setWorldStatus('protest')">Протесты</button>
                                <button class="status-indicator status-war" onclick="setWorldStatus('war')">Военное положение</button>
                            </div>
                        </div>

                        <div class="admin-section">
                            <h3>Статистика сервера</h3>
                            <div class="form-group">
                                <label>Общее население:</label>
                                <input type="number" id="total-population" value="15">
                                <button class="btn" onclick="updatePopulation()">Обновить</button>
                            </div>
                            <div class="form-group">
                                <label>Онлайн игроков:</label>
                                <input type="number" id="online-players" value="3">
                                <button class="btn" onclick="updateOnlinePlayers()">Обновить</button>
                            </div>
                        </div>

                        <div class="admin-section">
                            <h3>Заявки на модератора</h3>
                            <div id="moderator-applications-list">
                                <!-- Заявки будут загружаться здесь -->
                            </div>
                        </div>

                        <div class="admin-section">
                            <h3>Добавить новость</h3>
                            <form id="news-form">
                                <div class="form-group">
                                    <label for="news-title">Заголовок:</label>
                                    <input type="text" id="news-title" required>
                                </div>
                                <div class="form-group">
                                    <label for="news-content">Текст новости:</label>
                                    <textarea id="news-content" rows="4" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="news-image">Загрузить изображение:</label>
                                    <input type="file" id="news-image" accept="image/*">
                                </div>
                                <button type="button" class="btn" onclick="addNews()">Опубликовать новость</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>Управление календарем</h3>
                            <form id="event-form">
                                <div class="form-group">
                                    <label for="event-title">Название события:</label>
                                    <input type="text" id="event-title" required>
                                </div>
                                <div class="form-group">
                                    <label for="event-date">Дата события:</label>
                                    <input type="date" id="event-date" required>
                                </div>
                                <div class="form-group">
                                    <label for="event-type">Тип события:</label>
                                    <select id="event-type" required>
                                        <option value="event">Событие</option>
                                        <option value="important">Важное</option>
                                        <option value="update">Обновление</option>
                                        <option value="vote">Голосование</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="event-description">Описание:</label>
                                    <textarea id="event-description" rows="3" required></textarea>
                                </div>
                                <button type="button" class="btn" onclick="addEvent()">Добавить событие</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>Добавить событие в историю</h3>
                            <form id="history-form">
                                <div class="form-group">
                                    <label for="history-date">Дата события:</label>
                                    <input type="date" id="history-date" required>
                                </div>
                                <div class="form-group">
                                    <label for="history-title">Заголовок:</label>
                                    <input type="text" id="history-title" required>
                                </div>
                                <div class="form-group">
                                    <label for="history-description">Описание:</label>
                                    <textarea id="history-description" rows="3" required></textarea>
                                </div>
                                <button type="button" class="btn" onclick="addHistoryEvent()">Добавить в историю</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>Управление экономикой</h3>
                            <form id="economy-form">
                                <div class="form-group">
                                    <label for="currency-name">Название валюты:Изумруды</label>
                                    <input type="text" id="currency-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="currency-rate">Курс к алмазу:1изумруд=5 алмазов</label>
                                    <input type="number" id="currency-rate" required step="0.01">
                                </div>
                                <button type="button" class="btn" onclick="addCurrency()">Добавить валюту</button>
                            </form>

                            <h4 style="margin-top: 1.5rem;">Добавить магазин</h4>
                            <form id="shop-form">
                                <div class="form-group">
                                    <label for="shop-name">Название магазина:SigmoMarket</label>
                                    <input type="text" id="shop-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="shop-owner">Владелец:OmamaO</label>
                                    <input type="text" id="shop-owner" required>
                                </div>
                                <div class="form-group">
                                    <label for="shop-location">Местоположение:В центре</label>
                                    <input type="text" id="shop-location" required>
                                </div>
                                <div class="form-group">
                                    <label for="shop-description">Описание:Продуктовый</label>
                                    <textarea id="shop-description" rows="2" required></textarea>
                                </div>
                                <button type="button" class="btn" onclick="addShop()">Добавить магазин</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>Управление галереей</h3>
                            <div class="file-upload" onclick="document.getElementById('gallery-upload').click()">
                                <i class="fas fa-cloud-upload-alt"></i> Нажмите для загрузки изображения
                                <input type="file" id="gallery-upload" accept="image/*" style="display: none;" onchange="handleGalleryUpload(this.files)">
                            </div>
                            <div class="form-group">
                                <label for="gallery-caption">Подпись к изображению:</label>
                                <input type="text" id="gallery-caption" placeholder="Описание изображения">
                            </div>
                            <p><small>Изображения с именами, оканчивающимися на _sc, автоматически попадут в раздел скриншотов</small></p>
                        </div>

                        <div class="admin-section">
                            <h3>Управление игроками</h3>
                            <button class="btn" onclick="loadPlayersForm()">Добавить/Редактировать игроков</button>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- Модальное окно для скачивания модов -->
        <div id="modsModal" class="mods-modal">
            <div class="mods-modal-content">
                <span class="close-modal" onclick="closeModsModal()">&times;</span>
                <h2><i class="fas fa-download"></i> Скачать моды для сервера</h2>
                <p>Для игры на нашем сервере необходимо установить следующие моды. Скачай их и помести в папку <code>mods</code> твоего клиента Minecraft.</p>

                <button class="download-all-btn" onclick="downloadAllMods()">
                    <i class="fas fa-download"></i> Скачать все моды одним архивом
                </button>

                <h3>Основные моды:</h3>
                <div class="mods-list">
                    <div class="mod-item">
                        <h4>Forge 1.20.4</h4>
                        <p>Базовый модлоадер для Minecraft</p>
                        <button class="download-btn" onclick="downloadMod('Forge', 'https://files.minecraftforge.net/net/minecraftforge/forge/')">
                            <i class="fas fa-download"></i> Скачать Forge
                        </button>
                    </div>

                    <div class="mod-item">
                        <h4>OptiFine</h4>
                        <p>Улучшает производительность и добавляет HD текстуры</p>
                        <button class="download-btn" onclick="downloadMod('OptiFine', 'https://optifine.net/downloads')">
                            <i class="fas fa-download"></i> Скачать OptiFine
                        </button>
                    </div>
                </div>

                <h3>Дополнительные моды:</h3>
                <div class="mods-list">
                    <div class="mod-item">
                        <h4>JourneyMap</h4>
                        <p>Карта и мини-карта в игре</p>
                        <button class="download-btn" onclick="downloadMod('JourneyMap', 'https://www.curseforge.com/minecraft/mc-mods/journeymap')">
                            <i class="fas fa-download"></i> Скачать JourneyMap
                        </button>
                    </div>

                    <div class="mod-item">
                        <h4>WorldEdit</h4>
                        <p>Инструмент для удобного строительства</p>
                        <button class="download-btn" onclick="downloadMod('WorldEdit', 'https://www.curseforge.com/minecraft/mc-mods/worldedit')">
                            <i class="fas fa-download"></i> Скачать WorldEdit
                        </button>
                    </div>

                    <div class="mod-item">
                        <h4>Big Mod Pack</h4>
                        <p>Большой сборник дополнительных модов</p>
                        <button class="download-btn" onclick="downloadMod('BigModPack', 'https://example.com/big-mod-pack.zip')">
                            <i class="fas fa-download"></i> Скачать большой мод
                        </button>
                    </div>
                </div>

                <div class="content-box" style="margin-top: 1.5rem;">
                    <h3>Инструкция по установке:</h3>
                    <ol>
                        <li>Скачай и установи Forge для Minecraft 1.20.4</li>
                        <li>Скачай необходимые моды с этой страницы</li>
                        <li>Помести файлы модов (.jar) в папку <code>mods</code> в директории Minecraft</li>
                        <li>Запусти Minecraft, выбери профиль Forge и наслаждайся игрой!</li>
                    </ol>
                </div>
            </div>
        </div>

        <footer>
            <div class="container">
                <div class="discord-widget">
                    <h3><i class="fab fa-discord"></i> Присоединяйся к нашему Discord!</h3>
                    <p>Обсуждай, предлагай идеи, находи партнеров для строительства</p>
                    <a href="#" class="btn">Перейти в Discord</a>
                </div>
                <p>© 2024 SIGMOGRAD Minecraft Server. Все права защищены.</p>
                <p>Minecraft является товарным знаком Mojang AB.</p>
            </div>
        </footer>
    </div>

    <script>
        // ===== ОСНОВНЫЕ ФУНКЦИИ =====
        function copyIP() {
            navigator.clipboard.writeText("SIGMOGRAD.aternos.me:51798")
                .then(() => {
                    const ipElement = document.querySelector('.server-ip');
                    const originalText = ipElement.innerHTML;
                    ipElement.innerHTML = '<i class="fas fa-check"></i> IP скопирован!';
                    ipElement.style.background = 'linear-gradient(145deg, #4CAF50, #2E7D32)';

                    setTimeout(() => {
                        ipElement.innerHTML = originalText;
                        ipElement.style.background = 'linear-gradient(145deg, var(--darker-bg), var(--card-bg))';
                    }, 2000);
                });
        }

        // ===== АДМИН-ПАНЕЛЬ =====
        function showAdminPanel() {
            const password = prompt("Введите пароль администратора:");
            if (password === "admin123") { // Замените на реальный пароль
                document.getElementById('admin-panel').classList.remove('hidden');
                window.location.href = '#admin-panel';
                loadModeratorApplications(); // Загружаем заявки при открытии админ-панели
            } else {
                alert("Неверный пароль!");
            }
        }

        function setWorldStatus(status) {
            const statusDisplay = document.getElementById('current-status');
            const statusDescription = document.getElementById('status-description');

            let statusText, description, statusClass;

            switch(status) {
                case 'war':
                    statusText = "Военное положение";
                    description = "На сервере объявлено военное положение! Все игроки призываются к обороне.";
                    statusClass = "status-war";
                    break;
                case 'protest':
                    statusText = "Протесты";
                    description = "В городах проходят массовые протесты. Политическая ситуация напряжена.";
                    statusClass = "status-protest";
                    break;
                case 'alert':
                    statusText = "Подготовка к войне";
                    description = "Государства готовятся к возможному конфликту. Укрепляются границы.";
                    statusClass = "status-alert";
                    break;
                case 'peace':
                default:
                    statusText = "Мирное время";
                    description = "На сервере царит мир и спокойствие. Игроки занимаются строительством и развитием.";
                    statusClass = "status-peace";
            }

            statusDisplay.textContent = statusText;
            statusDisplay.className = `status-indicator ${statusClass}`;
            statusDescription.textContent = description;

            // Сохраняем в localStorage
            localStorage.setItem('worldStatus', status);
            localStorage.setItem('statusDescription', description);

            alert(`Статус мира изменен на: ${statusText}`);
        }

        function updatePopulation() {
            const population = document.getElementById('total-population').value;
            localStorage.setItem('population', population);
            alert(`Население обновлено: ${population} игроков`);
        }

        function updateOnlinePlayers() {
            const online = document.getElementById('online-players').value;
            localStorage.setItem('onlinePlayers', online);
            alert(`Онлайн игроков обновлено: ${online}`);
        }

        // ===== СИСТЕМА ЗАЯВОК НА МОДЕРАТОРА =====
        let moderatorApplications = [];

        function submitModeratorApplication() {
            const name = document.getElementById('applicant-name').value;
            const age = document.getElementById('applicant-age').value;
            const discord = document.getElementById('applicant-discord').value;
            const experience = document.getElementById('applicant-experience').value;
            const reason = document.getElementById('applicant-reason').value;

            if (!name || !age || !discord || !reason) {
                alert('Заполните все обязательные поля!');
                return;
            }

            const application = {
                id: Date.now(), // Уникальный ID на основе времени
                name: name,
                age: age,
                discord: discord,
                experience: experience,
                reason: reason,
                date: new Date().toLocaleDateString(),
                status: 'pending' // pending, approved, rejected
            };

            // Загружаем существующие заявки
            const savedApplications = localStorage.getItem('moderatorApplications');
            if (savedApplications) {
                moderatorApplications = JSON.parse(savedApplications);
            }

            // Добавляем новую заявку
            moderatorApplications.push(application);

            // Сохраняем в localStorage
            localStorage.setItem('moderatorApplications', JSON.stringify(moderatorApplications));

            // Очищаем форму
            document.getElementById('moderator-form').reset();

            // Показываем сообщение об успехе
            document.getElementById('application-success').classList.remove('hidden');

            alert('Ваша заявка отправлена! Мы рассмотрим её в ближайшее время.');
        }

        function loadModeratorApplications() {
            const applicationsList = document.getElementById('moderator-applications-list');
            applicationsList.innerHTML = '';

            const savedApplications = localStorage.getItem('moderatorApplications');
            if (!savedApplications) {
                applicationsList.innerHTML = '<p>Заявок пока нет.</p>';
                return;
            }

            moderatorApplications = JSON.parse(savedApplications);

            if (moderatorApplications.length === 0) {
                applicationsList.innerHTML = '<p>Заявок пока нет.</p>';
                return;
            }

            applicationsList.innerHTML = '<h4>Список заявок:</h4><div class="application-grid">';

            moderatorApplications.forEach((app, index) => {
                let statusClass = 'status-pending';
                let statusText = 'На рассмотрении';

                if (app.status === 'approved') {
                    statusClass = 'status-approved';
                    statusText = 'Одобрена';
                } else if (app.status === 'rejected') {
                    statusClass = 'status-rejected';
                    statusText = 'Отклонена';
                }

                const appCard = document.createElement('div');
                appCard.className = 'application-card';
                appCard.innerHTML = `
                    <h4>${app.name}</h4>
                    <p><strong>Возраст:</strong> ${app.age}</p>
                    <p><strong>Discord:</strong> ${app.discord}</p>
                    <p><strong>Опыт:</strong> ${app.experience || 'Не указан'}</p>
                    <p><strong>Заявка подана:</strong> ${app.date}</p>
                    <div class="application-status ${statusClass}">${statusText}</div>
                    <div class="application-actions">
                        <button class="btn btn-approve" onclick="approveApplication(${app.id})">Принять</button>
                        <button class="btn btn-reject" onclick="rejectApplication(${app.id})">Отклонить</button>
                    </div>
                `;

                applicationsList.querySelector('.application-grid').appendChild(appCard);
            });

            applicationsList.innerHTML += '</div>';
        }

        function approveApplication(appId) {
            const appIndex = moderatorApplications.findIndex(app => app.id === appId);
            if (appIndex !== -1) {
                moderatorApplications[appIndex].status = 'approved';
                localStorage.setItem('moderatorApplications', JSON.stringify(moderatorApplications));
                loadModeratorApplications();
                alert(`Заявка от ${moderatorApplications[appIndex].name} одобрена!`);
            }
        }

        function rejectApplication(appId) {
            const appIndex = moderatorApplications.findIndex(app => app.id === appId);
            if (appIndex !== -1) {
                moderatorApplications[appIndex].status = 'rejected';
                localStorage.setItem('moderatorApplications', JSON.stringify(moderatorApplications));
                loadModeratorApplications();
                alert(`Заявка от ${moderatorApplications[appIndex].name} отклонена.`);
            }
        }

        // ===== УПРАВЛЕНИЕ ИГРОКАМИ =====
        const players = [
            { name: "Основатель", role: "owner", nickname: "Rom4ik_19_04", joined: "03.05.24" },
            { name: "Главный Админ", role: "admin", nickname: "Kayzoks", joined: "13.10.24" },
            { name: "Модератор", role: "moderator", nickname: "Kayzoks", joined: "13.10.24" }
        ];

        function loadPlayersList() {
            const playersList = document.getElementById('players-list');
            playersList.innerHTML = '';

            players.forEach(player => {
                let roleClass = 'role-player';
                let roleText = 'Игрок';

                switch(player.role) {
                    case 'owner': roleClass = 'role-owner'; roleText = 'Владелец'; break;
                    case 'admin': roleClass = 'role-admin'; roleText = 'Администратор'; break;
                    case 'moderator': roleClass = 'role-moderator'; roleText = 'Модератор'; break;
                }

                const playerCard = document.createElement('div');
                playerCard.className = 'player-card';
                playerCard.innerHTML = `
                    <h3>${player.name}</h3>
                    <div class="player-role ${roleClass}">${roleText}</div>
                    <p><strong>Никнейм:</strong> ${player.nickname}</p>
                    <p><strong>На сервере с:</strong> ${player.joined}</p>
                `;
                playersList.appendChild(playerCard);
            });
        }

        function loadPlayersForm() {
            alert("Здесь будет форма управления игроками. В реальной реализации можно добавлять/удалять игроков.");
        }

        // ===== УПРАВЛЕНИЕ НОВОСТЯМИ =====
        let news = [
            {
                title: "Открытие сервера!",
                content: "Мы рады объявить об официальном открытии сервера SIGMOGRAD! Присоединяйтесь к нашему сообществу.",
                date: "15.01.2024",
                image: "https://i.imgur.com/7R6m9Qa.png"
            }
        ];

        function loadNews() {
            const newsList = document.getElementById('news-list');
            newsList.innerHTML = '';

            news.forEach((item, index) => {
                const newsCard = document.createElement('div');
                newsCard.className = 'news-card';

                let mediaContent = '';
                if (item.image) {
                    mediaContent = `<img src="${item.image}" alt="${item.title}" class="news-image" onerror="this.style.display='none'">`;
                } else if (item.video) {
                    mediaContent = `<div class="news-video">Видео: ${item.video}</div>`;
                }

                newsCard.innerHTML = `
                    ${mediaContent}
                    <div class="news-content">
                        <div class="news-date">${item.date}</div>
                        <h3>${item.title}</h3>
                        <p>${item.content}</p>
                    </div>
                `;
                newsList.appendChild(newsCard);
            });
        }

        function addNews() {
            const title = document.getElementById('news-title').value;
            const content = document.getElementById('news-content').value;
            const imageInput = document.getElementById('news-image');

            if (!title || !content) {
                alert("Заполните заголовок и текст новости!");
                return;
            }

            // Обработка загрузки изображения
            let imageUrl = '';
            if (imageInput.files && imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageUrl = e.target.result;
                    saveNewsItem(title, content, imageUrl);
                };
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                saveNewsItem(title, content, '');
            }
        }

        function saveNewsItem(title, content, imageUrl) {
            const newNews = {
                title: title,
                content: content,
                date: new Date().toLocaleDateString(),
                image: imageUrl,
                video: ''
            };

            news.unshift(newNews); // Добавляем в начало массива
            localStorage.setItem('serverNews', JSON.stringify(news));

            document.getElementById('news-form').reset();
            loadNews();

            alert("Новость успешно опубликована!");
        }

        // ===== КАЛЕНДАРЬ СОБЫТИЙ =====
        let events = [];

        function loadEvents() {
            const eventsContainer = document.getElementById('calendar-events');
            eventsContainer.innerHTML = '';

            if (events.length === 0) {
                eventsContainer.innerHTML = '<p>Предстоящих событий пока нет.</p>';
                return;
            }

            events.forEach(event => {
                let eventClass = 'event-type';
                if (event.type === 'important') eventClass = 'event-important';
                if (event.type === 'update') eventClass = 'event-update';
                if (event.type === 'vote') eventClass = 'event-vote';

                const eventElement = document.createElement('div');
                eventElement.className = 'calendar-event';
                eventElement.innerHTML = `
                    <div class="event-date">${event.date}</div>
                    <span class="${eventClass}">${getEventTypeText(event.type)}</span>
                    <h3>${event.title}</h3>
                    <p>${event.description}</p>
                `;
                eventsContainer.appendChild(eventElement);
            });
        }

        function getEventTypeText(type) {
            switch(type) {
                case 'important': return 'Важное';
                case 'update': return 'Обновление';
                case 'vote': return 'Голосование';
                default: return 'Событие';
            }
        }

        function addEvent() {
            const title = document.getElementById('event-title').value;
            const date = document.getElementById('event-date').value;
            const type = document.getElementById('event-type').value;
            const description = document.getElementById('event-description').value;

            if (!title || !date || !description) {
                alert('Заполните все поля!');
                return;
            }

            const newEvent = {
                title: title,
                date: formatDate(date),
                type: type,
                description: description
            };

            events.push(newEvent);
            localStorage.setItem('serverEvents', JSON.stringify(events));
            document.getElementById('event-form').reset();
            loadEvents();

            alert('Событие добавлено в календарь!');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU');
        }

        // ===== ИСТОРИЯ МИРА =====
        let historyEvents = [];

        function loadHistory() {
            const historyContainer = document.getElementById('history-timeline');
            historyContainer.innerHTML = '';

            if (historyEvents.length === 0) {
                historyContainer.innerHTML = '<p>История сервера еще пишется...</p>';
                return;
            }

            // Сортируем события по дате (от новых к старым)
            const sortedEvents = historyEvents.sort((a, b) => new Date(b.rawDate) - new Date(a.rawDate));

            sortedEvents.forEach(event => {
                const eventElement = document.createElement('div');
                eventElement.className = 'history-event';
                eventElement.innerHTML = `
                    <div class="history-date">${event.date}</div>
                    <h3>${event.title}</h3>
                    <p>${event.description}</p>
                `;
                historyContainer.appendChild(eventElement);
            });
        }

        function addHistoryEvent() {
            const title = document.getElementById('history-title').value;
            const date = document.getElementById('history-date').value;
            const description = document.getElementById('history-description').value;

            if (!title || !date || !description) {
                alert('Заполните все поля!');
                return;
            }

            const newEvent = {
                title: title,
                date: formatDate(date),
                rawDate: date,
                description: description
            };

            historyEvents.push(newEvent);
            localStorage.setItem('serverHistory', JSON.stringify(historyEvents));
            document.getElementById('history-form').reset();
            loadHistory();

            alert('Событие добавлено в историю!');
        }

        // ===== ЭКОНОМИКА =====
        let currencyRates = [];
        let shops = [];

        function loadEconomy() {
            loadCurrencyRates();
            loadShops();
        }

        function loadCurrencyRates() {
            const ratesContainer = document.getElementById('currency-rates');
            ratesContainer.innerHTML = '';

            if (currencyRates.length === 0) {
                ratesContainer.innerHTML = '<p>Курсы валют пока не установлены.</p>';
                return;
            }

            currencyRates.forEach(currency => {
                const currencyElement = document.createElement('div');
                currencyElement.className = 'economy-item';
                currencyElement.innerHTML = `
                    <h3>${currency.name}</h3>
                    <div class="currency-rate">1 ${currency.name} = ${currency.rate} алмазов</div>
                `;
                ratesContainer.appendChild(currencyElement);
            });
        }

        function loadShops() {
            const shopsContainer = document.getElementById('shops-list');
            shopsContainer.innerHTML = '';

            if (shops.length === 0) {
                shopsContainer.innerHTML = '<p>Магазины пока не добавлены.</p>';
                return;
            }

            shops.forEach(shop => {
                const shopElement = document.createElement('div');
                shopElement.className = 'announcement';
                shopElement.innerHTML = `
                    <h4>${shop.name}</h4>
                    <p><strong>Владелец:</strong> ${shop.owner}</p>
                    <p><strong>Местоположение:</strong> ${shop.location}</p>
                    <p><strong>Описание:</strong> ${shop.description}</p>
                `;
                shopsContainer.appendChild(shopElement);
            });
        }

        function addCurrency() {
            const name = document.getElementById('currency-name').value;
            const rate = document.getElementById('currency-rate').value;

            if (!name || !rate) {
                alert('Заполните все поля!');
                return;
            }

            const newCurrency = {
                name: name,
                rate: parseFloat(rate)
            };

            currencyRates.push(newCurrency);
            localStorage.setItem('currencyRates', JSON.stringify(currencyRates));
            document.getElementById('economy-form').reset();
            loadCurrencyRates();

            alert('Валюта добавлена!');
        }

        function addShop() {
            const name = document.getElementById('shop-name').value;
            const owner = document.getElementById('shop-owner').value;
            const location = document.getElementById('shop-location').value;
            const description = document.getElementById('shop-description').value;

            if (!name || !owner || !location || !description) {
                alert('Заполните все поля!');
                return;
            }

            const newShop = {
                name: name,
                owner: owner,
                location: location,
                description: description
            };

            shops.push(newShop);
            localStorage.setItem('shops', JSON.stringify(shops));
            document.getElementById('shop-form').reset();
            loadShops();

            alert('Магазин добавлен!');
        }

        // ===== ГАЛЕРЕЯ =====
        let galleryItems = [];

        function loadGallery() {
            const galleryContainer = document.getElementById('gallery-container');
            galleryContainer.innerHTML = '';

            if (galleryItems.length === 0) {
                galleryContainer.innerHTML = '<p>В галерее пока нет изображений.</p>';
                return;
            }

            galleryItems.forEach(item => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.image}" alt="${item.caption}">
                    <div class="gallery-caption">${item.caption}</div>
                `;
                galleryContainer.appendChild(galleryItem);
            });
        }

        function handleGalleryUpload(files) {
            if (files && files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const caption = document.getElementById('gallery-caption').value || 'Скриншот с сервера';
                    const fileName = files[0].name.toLowerCase();

                    const newItem = {
                        image: e.target.result,
                        caption: caption,
                        isScreenshot: fileName.endsWith('_sc.png') || fileName.endsWith('_sc.jpg') || fileName.endsWith('_sc.jpeg')
                    };

                    galleryItems.push(newItem);
                    localStorage.setItem('galleryItems', JSON.stringify(galleryItems));

                    // Оповещение о типе загруженного изображения
                    if (newItem.isScreenshot) {
                        alert('Изображение добавлено в раздел скриншотов!');
                    } else {
                        alert('Изображение добавлено в галерею!');
                    }

                    document.getElementById('gallery-caption').value = '';
                    loadGallery();
                };
                reader.readAsDataURL(files[0]);
            }
        }

        // ===== ЗАГРУЗКА МОДОВ =====
        function openModsModal() {
            document.getElementById('modsModal').style.display = 'block';
        }

        function closeModsModal() {
            document.getElementById('modsModal').style.display = 'none';
        }

        function downloadMod(modName, modUrl) {
            window.open(modUrl, '_blank');
            alert(`Вы будете перенаправлены на страницу загрузки ${modName}`);
        }

        function downloadAllMods() {
            // В реальном проекте - ссылка на ZIP-архив
            alert('Скачивание архива со всеми модами...');
            // window.location.href = 'SIGMOGRAD_Mods_Pack.zip';
        }

        // Массивы для хранения данных
        let trades = [];
        let orders = [];

        // Функция добавления объявления
        function addTrade() {
            const playerName = document.getElementById('player-name').value;
            const tradeType = document.getElementById('trade-type').value;
            const tradeItem = document.getElementById('trade-item').value;
            const tradePrice = document.getElementById('trade-price').value;
            const tradeContacts = document.getElementById('trade-contacts').value;

            if (!playerName || !tradeType || !tradeItem || !tradePrice || !tradeContacts) {
                alert('Заполните все поля!');
                return;
            }

            const trade = {
                player: playerName,
                type: tradeType,
                item: tradeItem,
                price: tradePrice,
                contacts: tradeContacts,
                date: new Date().toLocaleDateString()
            };

            trades.push(trade);
            localStorage.setItem('trades', JSON.stringify(trades));
            document.getElementById('trade-form').reset();
            updateTradeList();
        }

        // Функция обновления списка объявлений
        function updateTradeList() {
            const tradeList = document.getElementById('trade-list');
            const noTrades = document.getElementById('no-trades');

            if (trades.length === 0) {
                noTrades.style.display = 'block';
                tradeList.innerHTML = '';
                return;
            }

            noTrades.style.display = 'none';
            tradeList.innerHTML = '';

            trades.forEach((trade, index) => {
                const typeText = trade.type === 'sell' ? 'Продает' : trade.type === 'buy' ? 'Покупает' : 'Меняет';
                const tradeElement = document.createElement('div');
                tradeElement.className = 'announcement';
                tradeElement.innerHTML = `
                    <h4>${trade.player} ${typeText.toLowerCase()}</h4>
                    <p><strong>Предмет:</strong> ${trade.item}</p>
                    <p><strong>Цена:</strong> ${trade.price}</p>
                    <p><strong>Контакты:</strong> ${trade.contacts}</p>
                    <p><small>Добавлено: ${trade.date}</small></p>
                    <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;" onclick="removeTrade(${index})">Удалить</button>
                `;
                tradeList.appendChild(tradeElement);
            });
        }

        // Функция удаления объявления
        function removeTrade(index) {
            trades.splice(index, 1);
            localStorage.setItem('trades', JSON.stringify(trades));
            updateTradeList();
        }

        // Функция добавления заказа
        function addOrder() {
            const orderName = document.getElementById('order-name').value;
            const orderResource = document.getElementById('order-resource').value;
            const orderDeadline = document.getElementById('order-deadline').value;
            const orderPrice = document.getElementById('order-price').value;
            const orderContacts = document.getElementById('order-contacts').value;

            if (!orderName || !orderResource || !orderPrice || !orderContacts) {
                alert('Заполните все обязательные поля!');
                return;
            }

            const order = {
                player: orderName,
                resource: orderResource,
                deadline: orderDeadline,
                price: orderPrice,
                contacts: orderContacts,
                date: new Date().toLocaleDateString()
            };

            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            document.getElementById('order-form').reset();
            updateOrderList();
        }

        // Функция обновления списка заказов
        function updateOrderList() {
            const orderList = document.getElementById('order-list');
            const noOrders = document.getElementById('no-orders');

            if (orders.length === 0) {
                noOrders.style.display = 'block';
                orderList.innerHTML = '';
                return;
            }

            noOrders.style.display = 'none';
            orderList.innerHTML = '';

            orders.forEach((order, index) => {
                const deadlineText = getDeadlineText(order.deadline);
                const orderElement = document.createElement('div');
                orderElement.className = 'announcement';
                orderElement.innerHTML = `
                    <h4>${order.player} заказывает</h4>
                    <p><strong>Ресурс:</strong> ${order.resource}</p>
                    <p><strong>Срок:</strong> ${deadlineText}</p>
                    <p><strong>Оплата:</strong> ${order.price}</p>
                    <p><strong>Контакты:</strong> ${order.contacts}</p>
                    <p><small>Добавлено: ${order.date}</small></p>
                    <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;" onclick="removeOrder(${index})">Удалить</button>
                `;
                orderList.appendChild(orderElement);
            });
        }

        // Функция получения текста срока
        function getDeadlineText(deadline) {
            switch(deadline) {
                case '1day': return '1 день';
                case '3days': return '3 дня';
                case '1week': return '1 неделя';
                default: return 'Без сроков';
            }
        }

        // Функция удаления заказа
        function removeOrder(index) {
            orders.splice(index, 1);
            localStorage.setItem('orders', JSON.stringify(orders));
            updateOrderList();
        }

        // ===== ИНИЦИАЛИЗАЦИЯ =====
        window.addEventListener('load', function() {
            // Загрузка сохраненных данных
            const savedStatus = localStorage.getItem('worldStatus') || 'peace';
            const savedDescription = localStorage.getItem('statusDescription') || 'На сервере царит мир и спокойствие.';

            setWorldStatus(savedStatus);
            document.getElementById('status-description').textContent = savedDescription;

            // Загрузка игроков и новостей
            loadPlayersList();

            // Загрузка других данных...
            const savedNews = localStorage.getItem('serverNews');
            if (savedNews) {
                news = JSON.parse(savedNews);
            }
            loadNews();

            const savedPopulation = localStorage.getItem('population');
            if (savedPopulation) {
                document.getElementById('total-population').value = savedPopulation;
            }

            const savedOnline = localStorage.getItem('onlinePlayers');
            if (savedOnline) {
                document.getElementById('online-players').value = savedOnline;
            }

            // Загрузка данных о торговле и заказах
            const savedTrades = localStorage.getItem('trades');
            if (savedTrades) {
                trades = JSON.parse(savedTrades);
                updateTradeList();
            }

            const savedOrders = localStorage.getItem('orders');
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
                updateOrderList();
            }

            // Загрузка новых разделов
            const savedEvents = localStorage.getItem('serverEvents');
            if (savedEvents) {
                events = JSON.parse(savedEvents);
            }
            loadEvents();

            const savedHistory = localStorage.getItem('serverHistory');
            if (savedHistory) {
                historyEvents = JSON.parse(savedHistory);
            }
            loadHistory();

            const savedCurrency = localStorage.getItem('currencyRates');
            if (savedCurrency) {
                currencyRates = JSON.parse(savedCurrency);
            }

            const savedShops = localStorage.getItem('shops');
            if (savedShops) {
                shops = JSON.parse(savedShops);
            }
            loadEconomy();

            const savedGallery = localStorage.getItem('galleryItems');
            if (savedGallery) {
                galleryItems = JSON.parse(savedGallery);
            }
            loadGallery();
        });

        // Закрытие модального окна при клике вне его
        window.onclick = function(event) {
            const modal = document.getElementById('modsModal');
            if (event.target == modal) {
                closeModsModal();
            }
        }
    </script>
</body>
</html>

