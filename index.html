<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGMOGRAD | Minecraft Сервер</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --main-color: #4CAF50;
            --accent-color: #FFD700;
            --dark-bg: #1a1a1a;
            --darker-bg: #121212;
            --card-bg: #242424;
            --text-light: #f0f0f0;
            --war-color: #ff4444;
            --protest-color: #ffaa00;
            --peace-color: #4CAF50;
            --alert-color: #ff8800;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            line-height: 1.6;
            background-image: url('https://i.imgur.com/7R6m9Qa.png');
            background-attachment: fixed;
            background-size: cover;
        }
        .overlay {
            background-color: rgba(0, 0, 0, 0.85);
            min-height: 100vh;
        }
        header {
            background-color: var(--darker-bg);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            border-bottom: 2px solid var(--main-color);
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
        }
        nav ul li a {
            color: var(--main-color);
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            display: block;
            font-weight: bold;
            transition: all 0.3s ease;
            border-radius: 4px;
            margin: 0.2rem;
        }
        nav ul li a:hover {
            background-color: var(--main-color);
            color: var(--darker-bg);
            transform: translateY(-2px);
        }
        .logo {
            text-align: center;
            padding: 2rem 0;
            font-size: 2.5rem;
            color: var(--accent-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        section {
            padding: 3rem 0;
        }
        h1, h2, h3 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--accent-color);
        }
        h2 {
            border-bottom: 2px solid var(--main-color);
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        .server-ip {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(145deg, var(--darker-bg), var(--card-bg));
            padding: 1.2rem;
            border-radius: 8px;
            margin: 2rem 0;
            cursor: pointer;
            user-select: all;
            border: 1px solid var(--main-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        .server-ip:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
        }
        .server-ip i {
            margin-right: 10px;
        }
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .city-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.8rem;
            border-radius: 10px;
            border-left: 5px solid var(--main-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        .city-card:hover {
            transform: translateY(-5px);
        }
        .city-card h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }
        .content-box {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid #444;
            background-color: #333;
            color: var(--text-light);
        }
        .btn {
            background-color: var(--main-color);
            color: var(--darker-bg);
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
        }
        .btn:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
        }
        .announcement {
            background-color: rgba(255, 215, 0, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        .announcement h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        footer {
            background-color: var(--darker-bg);
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
            border-top: 2px solid var(--main-color);
        }
        .discord-widget {
            background-color: #5865F2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: inline-block;
        }

        /* Стили для раздела выборов */
        .election-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .candidate-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #444;
            transition: all 0.3s ease;
        }
        .candidate-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
        }
        .candidate-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--main-color);
            margin: 0 auto 1rem;
        }
        .candidate-name {
            color: var(--accent-color);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .candidate-nickname {
            color: var(--main-color);
            font-style: italic;
            margin-bottom: 1rem;
        }
        .candidate-platform {
            background: rgba(255, 215, 0, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 3px solid var(--accent-color);
        }
        .candidate-platform h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        .vote-btn {
            background: linear-gradient(145deg, #4CAF50, #45a049);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        .vote-btn:hover {
            background: linear-gradient(145deg, #FFD700, #FFA500);
            transform: scale(1.05);
        }
        .vote-count {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent-color);
            margin: 1rem 0;
        }
        .results-box {
            background: rgba(76, 175, 80, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
            border: 2px solid var(--main-color);
        }
        .progress-bar {
            height: 20px;
            background: #333;
            border-radius: 10px;
            margin: 1rem 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--main-color), var(--accent-color));
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        .voted-message {
            background-color: rgba(76, 175, 80, 0.2);
            color: var(--accent-color);
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }
        
        /* Стили для модального окна модов */
        .mods-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        .mods-modal-content {
            background-color: var(--darker-bg);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--main-color);
        }
        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-modal:hover {
            color: var(--accent-color);
        }
        .mods-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .mod-item {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }
        .mod-item h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }
        .download-all-btn {
            background: linear-gradient(145deg, #FFD700, #FFA500);
            color: var(--darker-bg);
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            margin: 1rem 0;
            display: block;
            width: 100%;
            text-align: center;
        }
        .download-all-btn:hover {
            background: linear-gradient(145deg, #FFA500, #FF8C00);
        }
        .download-mod-btn {
            background-color: var(--main-color);
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 0.5rem;
            width: 100%;
        }
        .download-mod-btn:hover {
            background-color: #45a049;
        }

        /* Стили для админ-панели */
        .admin-panel {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid #e74c3c;
        }
        .admin-section {
            margin-bottom: 2rem;
        }
        .status-indicator {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            margin: 0.5rem;
            cursor: pointer;
        }
        .status-war { background-color: var(--war-color); }
        .status-protest { background-color: var(--protest-color); }
        .status-peace { background-color: var(--peace-color); }
        .status-alert { background-color: var(--alert-color); }
        
        /* Стили для раздела игроков */
        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .player-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--accent-color);
        }
        .player-role {
            font-weight: bold;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            margin: 0.5rem 0;
            display: inline-block;
        }
        .role-owner { background-color: #e74c3c; }
        .role-admin { background-color: #9b59b6; }
        .role-moderator { background-color: #3498db; }
        .role-player { background-color: #2ecc71; }
        
        /* Стили для новостей */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .news-card {
            background: linear-gradient(145deg, var(--card-bg), var(--darker-bg));
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .news-content {
            padding: 1.5rem;
        }
        .news-date {
            color: var(--accent-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .news-video {
            width: 100%;
            height: 200px;
            background: #000;
        }
        
        /* Скрытые элементы */
        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            nav ul li {
                width: 100%;
                text-align: center;
            }
            .election-grid {
                grid-template-columns: 1fr;
            }
            .mods-list {
                grid-template-columns: 1fr;
            }
            .players-grid {
                grid-template-columns: 1fr;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <div class="container">
                <nav>
                    <ul>
                        <li><a href="#home"><i class="fas fa-home"></i> Главная</a></li>
                        <li><a href="#about"><i class="fas fa-info-circle"></i> О сервере</a></li>
                        <li><a href="#map"><i class="fas fa-map"></i> Карта</a></li>
                        <li><a href="#cities"><i class="fas fa-city"></i> Города и страны</a></li>
                        <li><a href="#elections"><i class="fas fa-vote-yea"></i> Выборы</a></li>
                        <li><a href="#players"><i class="fas fa-users"></i> Игроки</a></li>
                        <li><a href="#news"><i class="fas fa-newspaper"></i> Новости</a></li>
                        <li><a href="#info"><i class="fas fa-server"></i> Информация</a></li>
                        <li><a href="#rules"><i class="fas fa-gavel"></i> Правила</a></li>
                        <li><a href="#market"><i class="fas fa-store"></i> Торговля</a></li>
                        <li><a href="#orders"><i class="fas fa-truck-loading"></i> Заказы</a></li>
                        <li><a href="#" onclick="showAdminPanel(); return false;"><i class="fas fa-cog"></i> Админ</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            <section id="home">
                <div class="container">
                    <div class="logo">
                        <i class="fas fa-cube"></i> SIGMOGRAD
                    </div>
                    <h1>Добро пожаловать на политический и дружеский сервер</h1>
                    <p style="text-align: center; font-size: 1.2rem;">Спокойная атмосфера без войн. Строй, общайся, развивай свои города!</p>
                    <div class="server-ip" onclick="copyIP()">
                        <i class="fas fa-copy"></i> SIGMOGRAD.aternos.me:51798
                    </div>
                    
                    <!-- Индикатор статуса мира -->
                    <div class="content-box" id="world-status-box">
                        <h3>Текущее положение в мире</h3>
                        <div id="world-status-display">
                            <span class="status-indicator status-peace" id="current-status">Мирное время</span>
                        </div>
                        <p id="status-description">На сервере царит мир и спокойствие. Игроки занимаются строительством и развитием.</p>
                    </div>
                </div>
            </section>

            <section id="about">
                <div class="container">
                    <h2>О нашем сервере</h2>
                    <div class="content-box">
                        <p>Добро пожаловать в <strong>SIGMOGRAD</strong>! Наш сервер создан для тех, кто ищет спокойной и дружеской атмосферы без гриферства и войн.</p>
                        <p>Мы делаем акцент на:</p>
                        <ul>
                            <li>Создании и развитии городов и государств</li>
                            <li>Политическом ролевом взаимодействии</li>
                            <li>Совместных проектах и строительстве</li>
                            <li>Торговле и экономике</li>
                            <li>Дружеском общении и взаимопомощи</li>
                        </ul>
                        <p>Присоединяйся к нашему растущему сообществу!</p>
                    </div>
                </div>
            </section>

            <section id="map">
                <div class="container">
                    <h2>Карта Сервера</h2>
                    <div class="content-box">
                        <p>Посмотри на наши текущие постройки и города! Скоро здесь появится интерактивная карта.</p>
                        <div style="height: 400px; border-radius: 10px; overflow: hidden; border: 2px solid var(--main-color);">
                            <img src="karta.png"
                                 alt="Карта сервера SIGMOGRAD"
                                 style="width: 100%; height: 100%; object-fit: cover;"
                                 onerror="this.src='https://i.imgur.com/7R6m9Qa.png'">
                        </div>
                        <p style="margin-top: 1rem; text-align: center;">
                            <em>Карта мира SIGMOGRAD. Исследуй и строй!</em>
                        </p>
                    </div>
                </div>
            </section>

            <section id="cities">
                <div class="container">
                    <h2>Города и страны</h2>
                    <p>На нашем сервере уже образовались первые государства. Присоединяйся к одному из них или основай свой собственный город!</p>

                    <div class="cities-grid">
                        <div class="city-card">
                            <h3>Сигмоград</h3>
                            <p><strong>Тип:</strong> Столица</p>
                            <p><strong>Лидер:</strong> Основатель сервера</p>
                            <p><strong>Население:</strong> Растет</p>
                            <p><strong>Описание:</strong> Столичный мегаполис и административный центр сервера. Развитая инфраструктура и архитектура.</p>
                        </div>
                        <div class="city-card">
                            <h3>Бульмения</h3>
                            <p><strong>Тип:</strong> Город-государство</p>
                            <p><strong>Лидер:</strong> Нужен мэр</p>
                            <p><strong>Население:</strong> Открыт для заселения</p>
                            <p><strong>Описание:</strong> Спокойный город с упором на сельское хозяйство и традиционные ремесла. Ищет активных жителей!</p>
                        </div>
                        <div class="city-card">
                            <h3>Ваш город?</h3>
                            <p><strong>Тип:</strong> Свободные земли</p>
                            <p><strong>Лидер:</strong> Ты!</p>
                            <p><strong>Население:</strong> 0/∞</p>
                            <p><strong>Описание:</strong> Оснуй собственное государство! Получи помощь от администрации при основании.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="elections">
                <div class="container">
                    <h2><i class="fas fa-vote-yea"></i> Выборы Мэра Сигмограда</h2>
                    <div class="content-box">
                        <div class="announcement">
                            <h4>🗳️ Голосование открыто!</h4>
                            <p>Выбери достойного кандидата на пост мэра столицы.</p>
                            <p><strong>Условия:</strong> Голосовать могут только игроки, проведшие на сервере более 10 часов.</p>
                        </div>

                        <div class="election-grid">
                            <!-- Кандидат 1 -->
                            <div class="candidate-card">
                                <img src="https://i.imgur.com/7R6m9Qa.png"
                                     alt="Кандидат 1"
                                     class="candidate-image"
                                     onerror="this.src='https://i.imgur.com/7R6m9Qa.png'">
                                <h3 class="candidate-name">M1cyy_1337</h3>
                                <p class="candidate-nickname"></p>

                                <div class="candidate-platform">
                                    <h4>Обещания и планы:</h4>
                                    <ul>
                                        <li>Развитие инфраструктуры: построю новые удобные места для отдыха и развлечений, улучшу дороги и общественные здания.</li>
                                        <li>Безопасность: организую активное сотрудничество с полицией и службами безопасности для снижения преступности.</li>
                                        <li>Поддержка игроков: сделаю так, чтобы каждому жителю города было комфортно и интересно — буду слушать ваши предложения и решать проблемы.</li>
                                        <li>Экономика города: способствовать развитию торговли, создать игровые мероприятия и акции, чтобы увеличить доходы горожан.</li>
                                        <li>Чистота и порядок: следить, чтобы город был чистым и ухоженным.</li>
                                    </ul>
                                </div>

                                <div class="vote-count" id="votes-candidate1">0 голосов</div>
                                <button class="vote-btn" onclick="vote(1)">
                                    <i class="fas fa-check-circle"></i> Голосовать за этого кандидата
                                </button>
                                <div class="voted-message" id="voted-message-1">Вы уже голосовали за этого кандидата!</div>
                            </div>

                            <!-- Кандидат 2 -->
                            <div class="candidate-card">
                                <img src="https://i.imgur.com/7R6m9Qa.png"
                                     alt="Кандидат 2"
                                     class="candidate-image"
                                     onerror="this.src='https://i.imgur.com/7R6m9Qa.png'">
                                <h3 class="candidate-name">Макс</h3>
                                <p class="candidate-nickname"></p>

                                <div class="candidate-platform">
                                    <h4>Обещания и планы:</h4>
                                    <ul>
                                        <li>Создать культурный центр с библиотекой</li>
                                        <li>Организовать регулярные ивенты и конкурсы</li>
                                        <li>Улучшить архитектуру города</li>
                                        <li>Развивать международные отношения</li>
                                    </ul>
                                </div>

                                <div class="vote-count" id="votes-candidate2">0 голосов</div>
                                <button class="vote-btn" onclick="vote(2)">
                                    <i class="fas fa-check-circle"></i> Голосовать за этого кандидата
                                </button>
                                <div class="voted-message" id="voted-message-2">Вы уже голосовали за этого кандидата!</div>
                            </div>
                        </div>

                        <!-- Результаты голосования -->
                        <div class="results-box">
                            <h3>📊 Результаты голосования</h3>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-candidate1" style="width: 50%;"></div>
                            </div>
                            <p>M1cyy_1337: <span id="percent-candidate1">50%</span></p>

                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-candidate2" style="width: 50%;"></div>
                            </div>
                            <p>Макс: <span id="percent-candidate2">50%</span></p>

                            <p><strong>Всего проголосовало: <span id="total-votes">0</span> игроков</strong></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Новая секция: Игроки -->
            <section id="players">
                <div class="container">
                    <h2><i class="fas fa-users"></i> Состав игроков</h2>
                    <div class="players-grid" id="players-list">
                        <!-- Игроки будут добавляться через JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Новая секция: Новости -->
            <section id="news">
                <div class="container">
                    <h2><i class="fas fa-newspaper"></i> Последние новости</h2>
                    <div class="news-grid" id="news-list">
                        <!-- Новости будут добавляться через JavaScript -->
                    </div>
                </div>
            </section>

            <section id="info">
                <div class="container">
                    <h2>Информация для подключения</h2>

                    <div class="content-box">
                        <h3><i class="fas fa-network-wired"></i> IP-адрес сервера</h3>
                        <div class="server-ip" onclick="copyIP()">
                            <i class="fas fa-copy"></i> SIGMOGRAD.aternos.me:51798
                        </div>
                    </div>

                    <div class="content-box">
                        <h3><i class="fas fa-code-branch"></i> Версия и моды</h3>
                        <p><strong>Версия:</strong> Minecraft Java Edition 1.20.4</p>
                        <p><strong>Сборка:</strong> Forge + OptiFine</p>
                        <p><strong>Обязательные моды:</strong>
                            <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.9rem;" onclick="openModsModal()">
                                <i class="fas fa-download"></i> Скачать все моды
                            </button>
                        </p>
                    </div>

                    <div class="content-box">
                        <h3><i class="fas fa-question-circle"></i> Как подключиться?</h3>
                        <ol>
                            <li>Установи Forge для версии 1.20.4</li>
                            <li>Установи OptiFine (опционально, для улучшения FPS)</li>
                            <li>Скачай и помести необходимые моды в папку <code>mods</code></li>
                            <li>Запусти игру, выбери соответствующий профиль Forge</li>
                            <li>Добавь наш сервер в список через "Мультиплеер"</li>
                            <li>Подключайся и наслаждайся!</li>
                        </ol>
                    </div>
                </div>
            </section>

            <section id="rules">
                <div class="container">
                    <h2>Правила сервера</h2>
                    <div class="content-box">
                        <div class="announcement">
                            <h4>Основной принцис</h4>
                            <p>Уважай других игроков и их труд. Мы здесь чтобы получать удовольствие от игры вместе.</p>
                        </div>

                        <h3>📜 Основные правила:</h3>
                        <ol>
                            <li><strong>🏛️ ОФИЦИАЛЬНЫЙ СВОД ПРАВИЛ (УСТАВ) СЕРВЕРА
Основной принцип: Данный сервер является дружеской политико-экономической симуляцией. Все конфликты должны решаться через дипломатию, законы игровых государств или администрацию. Война — это крайняя, регулируемая мера.

РАЗДЕЛ I: ОСНОВНЫЕ ПРАВИЛА (OOC)
Глава 1: Общение и поведение

Запрещены любые формы оскорблений, унижений, буллинга (травли) и дискриминации.

Запрещены провокации, разжигание конфликтов на расовой, национальной, религиозной, половой или иной почве.

Запрещен спам и флуд в любых чатах (повторение однотипных сообщений, большое количество знаков).

Запрещен чрезмерный капслок (НАПИСАНИЕ ЗАГЛАВНЫМИ БУКВАМИ) кроме как для выделения важной информации.

Запрещена реклама других игр, серверов, проектов, социальных сетей и ресурсов без прямого разрешения Администрации.

Запрещены любые формы вымогательства, попрошайничества у игроков и, в особенности, у администрации («дайте админку», «дайте вещи» и т.д.).

Запрещены дезинформация и введение игроков в заблуждение с корыстными целями.

Запрещены ники, содержащие нецензурную лексику, оскорбительные или провокационные слова.

Запрещены скины, содержащие порнографию, непристойности, пропаганду насилия или экстремистские элементы.

Запрещено обсуждение тем, нарушающих законодательство вашей страны.

Запрещено impersonation (выдача себя за другого игрока, члена администрации или известную личность).

Соблюдайте тему каналов в Discord (оффтоп только в разрешенных для этого местах).

Английский и другие языки разрешены, но основной язык общения — русский. Не злоупотребляйте иностранными языками в общем чате.

Запрещено публиковать личную информацию других лиц (doxing) без их согласия.

Уважайте всех участников сообщества, включая администраторов и модераторов.

Глава 2: Игровой процесс и читерство
16. Запрещено использование любых сторонних программ (читы, клиенты), дающих нечестное преимущество.
17. Запрещен X-Ray (текстуры, моды, клиенты, позволяющие видеть сквозь блоки). Исключение — официально разрешенный мод.
18. Запрещен Fly (полеты в нережиме креатива или без разрешения).
19. Запрещены любые виды автокликеров, макросов, авто-постановки блоков и авто-еды для получения преимущества.
20. Запрещены любые программы для чтения чужих приватных сообщений или чатов (spy-моды).
21. Запрещено использование багов игры и плагинов для получения выгоды (багоюз). Об обнаруженных багах необходимо сообщать администрации.
22. Запрещены любые методы дублирования предметов (дюп), даже если они являются багом ванильной игры.
23. Запрещено intentionally вызывать лаги сервера (например, создание машин из раздатчиков, лава-генераторы, сброс большого количества entities (сущностей).
24. Запрещено гриферить (портить чужие постройки, убивать животных, заливать лавой, ломать блоки без разрешения).
25. Запрещено воровать предметы из чужих сундуков, рамок, вагонеток и т.д., если они не находятся на нейтральной территории без защиты.
26. Запрещено убивать других игроков без объявления войны или вне зон PvP (см. раздел о войнах).
27. Запрещено строить неприличные, непристойные или портящие общий вид ландшафта постройки на общих территориях.
28. Запрещено intentionally мешать игре других игроков (блокировать проходы, загораживать дверь, ставить блоки под игроком).
29. Запрещено занимать большие территории без последующего освоения (требование к минимальному строительству на зачеймленной земле).
30. Запрещено создавать автоматические фермы мобов, негативно влияющие на производительность сервера (без согласования с администрацией).
31. Запрещено бросать большое количество предметов на землю с целью создания лагов.
32. Запрещено использование именных предметов (name tag) для оскорблений.
33. Запрещено использование книг и табличек для размещения запрещенного контента.

РАЗДЕЛ II: ПОЛИТИЧЕСКОЕ УСТРОЙСТВО И ГЕОПОЛИТИКА
Глава 3: Создание и статус государства
34. Государство считается созданным после выполнения трех условий: объявление в общем чате (/n create), наличие группы из минимум 2-3 активных граждан и обозначение территории.
35. Территория государства должна быть четко обозначена (столбы, стена, таблички с названием государства).
36. Обязательно создание канала в Discord вашего государства с указанием состава граждан, законов, правил вступления и границ.
37. Название государства не должно содержать оскорбительных или провокационных слов.
38. Государство имеет право на суверенитет и неприкосновенность своих границ.
39. Право на землю определяется фактом ее освоения и закрепления. Пустые заявки на гигантские территории могут быть оспорены.
40. Государство может иметь свою форму правления (республика, монархия, диктатура и т.д.).
41. Государство может издавать собственные внутренние законы, если они не противоречат глобальным правилам сервера.
42. Граждане государства обязаны подчиняться его внутренним законам.
43. Лидер государства несет ответственность за действия своих граждан перед администрацией сервера.
44. Государство может быть распущено по решению его граждан или по решению администрации в случае неактивности (мертвая нация).
45. Для регистрации государства необходимо подать заявку в установленной форме в соответствующем канале Discord.

Глава 4: Территория и границы
46. Территория государства включает в себя землю, недра, воздушное и водное пространство в пределах его границ.
47. Запрещен незаконный захват территорий другого государства (аннексия).
48. Разрешается создание демилитаризованных и нейтральных зон по договору между государствами.
49. Строительство в непосредственной близости от границ другого государства без его разрешения считается провокацией.
50. Все споры о границах решаются через дипломатические каналы или администрацию.
51. Запрещено строительство выше ограничения по высоте (Y=256) без особого разрешения.
52. Запрещено масштабное изменение ландшафта (выравнивание гор, осушение океанов) вблизи чужих территорий без согласования.
53. Недра на территории государства принадлежат ему. Проход туннелей под чужими территориями без разрешения запрещен.

Глава 5: Дипломатия и международное право
54. Все государства признают друг друга суверенными и равноправными.
55. Дипломатические отношения устанавливаются по согласию сторон.
56. Разрешается создание международных организаций, союзов, альянсов и коалиций.
57. Действуют все виды международных договоров: о ненападении, сотрудничестве, взаимопомощи, экстрадиции и т.д.
58. Дипломатический иммунитет: послы и дипломаты неприкосновенны на территории другого государства.
59. Запрещено шпионаж и диверсионная деятельность на территории другого государства без объявления войны.
60. Право прохода: перемещение по территории другого государства разрешено только с explicit согласия его правительства.
61. Беженцы: игроки, покинувшие свое государство по политическим причинам, могут запросить убежище в другом государстве.
62. Экстрадиция: государства могут заключать договоры о выдаче преступников.

Глава 6: Экономика и торговля
63. Каждое государство вправе устанавливать свою экономическую систему и валюту.
64. Рекомендуется использовать плагины для создания магазинов (/shop, таблички).
65. Запрещено мошенничество в торговых сделках (невыдача товара после оплаты или наоборот).
66. Между государствами могут заключаться торговые соглашения.
67. Разрешается создание международных торговых хабов и банков.
68. Запрещен нечестный демпинг цен с целью подрыва экономики другого государства.
69. Налоговая политика определяется внутренними законами государства.
70. Права собственности на постройки и землю внутри государства регулируются его законами.

РАЗДЕЛ III: ВОЙНА И КОНФЛИКТЫ (PvP)
Глава 7: Объявление войны (ВАР - War Declaration)
71. Война является крайней мерой разрешения конфликта и должна быть официально объявлена.
72. Объявление войны (Декларация) должно быть опубликовано в общем чате и дублировано в Discord.
73. В декларации должны быть четко указаны: стороны конфликта, причины войны и цели.
74. После объявления войны наступает период подготовки (24 часа). В этот период любые PvP действия между сторонами запрещены.
75. Война не может быть объявлена государству, которое отсутствует онлайн более 72 часов.
76. Война не может длиться вечно. Максимальный срок войны — 7 игровых дней. После этого вступает в силу принудительное перемирие от администрации.
77. Нейтральные государства и новички (менее 7 дней на сервере) не могут быть втянуты в войну против их воли.

Глава 8: Ведение боевых действий (Правила ведения войны)
78. Запрещено ведение боевых действий на нейтральных территориях (спавн, торговый хаб).
79. Запрещено полное уничтожение (тотальный гриферство) инфраструктуры противника. Допустимы лишь точечные удары по военным и стратегическим объектам.
80. Запрещено убийство мирных жителей (игроков, которые явно не участвуют в войне, не имеют брони/оружия).
81. Запрещено воровство из сундуков, не относящихся к военным запасам (личные вещи игроков, ресурсы ферм). Захватывать можно только трофеи с тел убитых противников.
82. Запрещено использование багов и недоработок плагинов для получения преимущества в войне.
83. Запрещено брать в заложники игроков противника на длительный срок.
84. Разрешены диверсии, штурмы укреплений, захват территорий.
85. Разрешено создание концентрационных лагерей для военнопленных, но с соблюдением условий содержания (обеспечение едой, возможность побега или обмена).
86. PvP разрешен только в пределах территорий воюющих сторон или на специально отведенных аренах.
87. Запрещено использовать PvP-зону для уклонения от последствий войны (например, прятаться на спавне).

Глава 9: Военнопленные и репарации
88. Военнопленный обязан подчиняться своим захватчикам на время плена.
89. С военнопленным необходимо обращаться уважительно, без оскорблений (OOC).
90. Пленник может быть освобожден за выкуп, в результате обмена или побега.
91. Запрещено принуждать пленного к работе на вражеское государство.
92. После окончания войны проигравшая сторона может быть обязана выплатить репарации (компенсацию) победителю. Размер и форма обсуждаются в мирном договоре.
93. Мирный договор должен быть составлен в письменной форме и опубликован в общем чате.

Глава 10: Вмешательство администрации
94. Администрация оставляет за собой право остановить любую войну, если она нарушает правила сервера или вредит комьюнити.
95. Администрация может выступить арбитром в переговорах о перемирии.
96. В случае нарушения правил ведения войны администрация может наказать нарушившую сторону и компенсировать ущерб пострадавшим.

РАЗДЕЛ IV: АДМИНИСТРАТИВНЫЕ ПРАВИЛА И НАКАЗАНИЯ
Глава 11: Права и обязанности игроков
97. Игрок имеет право на справедливое и уважительное отношение.
98. Игрок имеет право подать жалобу (репорт) на нарушителя правил.
99. Игрок обязан предоставить доказательства нарушения (скриншоты, видео, логи).
100. Игрок имеет право отказаться от участия в военных действиях.
101. Игрок имеет право свободно выбирать гражданство или быть путешественником.
102. Игрок обязан знать и соблюдать правила сервера. Незнание правил не освобождает от ответственности.

Глава 12: Права и обязанности модерации
103. Модератор обязан соблюдать правила сервера.
104. Модератор должен быть объективен и беспристрастен.
105. Модератор не имеет права использовать свои полномочия для личной выгоды в игре.
106. Модератор обязан вежливо общаться с игроками.
107. Модератор обязан рассматривать все поступающие жалобы.
108. Модератор имеет право выносить наказания в соответствии с тяжестью нарушения.
109. Модератор обязан вести запись всех вынесенных наказаний и их причин.

Глава 13: Система наказаний
110. Наказания выносятся по кумулятивной системе (1 - предупреждение, 2 - мут/тюрьма, 3 - бан).
111. Виды наказаний:
* Предупреждение: За незначительные нарушения.
* Мут: За нарушения в чате.
* Тюрьма: За гриферство, воровство, нарушения правил войны. Срок от 2 часов до 7 дней.
* Бан: За читерство, серьезные нарушения, повторные нарушения после тюрьмы. Срок от 7 дней до перманентного.
112. Срок наказания зависит от тяжести проступка и истории нарушений.
113. Решение модератора может быть обжаловано у главы администрации через тикет-систему в Discord.
114. Нарушения в состоянии алкогольного или наркотического опьянения не смягчают наказание.

Глава 14: Процедура подачи жалобы
115. Жалоба подается исключительно через систему тикетов в Discord.
116. В жалобе необходимо указать: ник нарушителя, дату и время нарушения, суть нарушения, доказательства (скриншоты/видео).
117. Ложные жалобы и клевета наказываются баном.
118. Публичное обсуждение действий модерации и текущих расследований запрещено.
                        </ol>

                        <h3>🎯 Что поощряется:</h3>
                        <ul>
                            <li>Создание и развитие городов</li>
                            <li>Торговля и экономическое взаимодействие</li>
                            <li>Совместные проекты и строительство</li>
                            <li>Помощь новичкам</li>
                            <li>Креативные и интересные постройки</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="market">
                <div class="container">
                    <h2>Торговля и объявления</h2>
                    <div class="content-box">
                        <p>Здесь ты можешь разместить свои предложения о покупке, продаже или обмене ресурсов.</p>

                        <h3>Добавить новое объявление</h3>
                        <form id="trade-form">
                            <div class="form-group">
                                <label for="player-name">Ваш игровой ник:</label>
                                <input type="text" id="player-name" required placeholder="Например: SigmaPro">
                            </div>
                            <div class="form-group">
                                <label for="trade-type">Тип объявления:</label>
                                <select id="trade-type" required>
                                    <option value="">-- Выберите тип --</option>
                                    <option value="sell">Продаю</option>
                                    <option value="buy">Покупаю</option>
                                    <option value="exchange">Меняю</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="trade-item">Что предлагаете/ищете:</label>
                                <input type="text" id="trade-item" required placeholder="Например: 64 алмаза">
                            </div>
                            <div class="form-group">
                                <label for="trade-price">Цена/Предложение:</label>
                                <input type="text" id="trade-price" required placeholder="Например: 5 изумрудов">
                            </div>
                            <div class="form-group">
                                <label for="trade-contacts">Контакты (Дискорд/Игровой ник):</label>
                                <input type="text" id="trade-contacts" required placeholder="Например: SigmaPro#1234">
                            </div>
                            <button type="button" class="btn" onclick="addTrade()"><i class="fas fa-plus"></i> Добавить объявление</button>
                        </form>

                        <h3 style="margin-top: 2rem;">Активные объявления</h3>
                        <div id="trade-list">
                            <p id="no-trades"><em>Пока объявлений нет. Будь первым!</em></p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="orders">
                <div class="container">
                    <h2>Заказ ресурсов</h2>
                    <div class="content-box">
                        <p>Нужно много ресурсов для большой постройки? Сделай заказ и игроки помогут тебе!</p>

                        <h3>Форма заказа ресурсов</h3>
                        <form id="order-form">
                            <div class="form-group">
                                <label for="order-name">Ваш игровой ник:</label>
                                <input type="text" id="order-name" required placeholder="Например: SigmaPro">
                            </div>
                            <div class="form-group">
                                <label for="order-resource">Нужный ресурс и количество:</label>
                                <input type="text" id="order-resource" required placeholder="Например: 128 блоков камня">
                            </div>
                            <div class="form-group">
                                <label for="order-deadline">Желаемый срок:</label>
                                <select id="order-deadline">
                                    <option value="no">Без сроков</option>
                                    <option value="1day">1 день</option>
                                    <option value="3days">3 дня</option>
                                    <option value="1week">1 неделя</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="order-price">Предлагаемая оплата:</label>
                                <input type="text" id="order-price" required placeholder="Например: 10 алмазов">
                            </div>
                            <div class="form-group">
                                <label for="order-contacts">Контакты для связи:</label>
                                <input type="text" id="order-contacts" required placeholder="Дискорд или игровой ник">
                            </div>
                            <button type="button" class="btn" onclick="addOrder()"><i class="fas fa-truck-loading"></i> Разместить заказ</button>
                        </form>

                        <h3 style="margin-top: 2rem;">Активные заказы</h3>
                        <div id="order-list">
                            <p id="no-orders"><em>Заказов пока нет.</em></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Админ панель (скрыта по умолчанию) -->
            <section id="admin-panel" class="hidden">
                <div class="container">
                    <div class="admin-panel">
                        <h2><i class="fas fa-cog"></i> Панель администратора</h2>
                        
                        <div class="admin-section">
                            <h3>Управление статусом мира</h3>
                            <div>
                                <button class="status-indicator status-peace" onclick="setWorldStatus('peace')">Мирное время</button>
                                <button class="status-indicator status-alert" onclick="setWorldStatus('alert')">Подготовка к войне</button>
                                <button class="status-indicator status-protest" onclick="setWorldStatus('protest')">Протесты</button>
                                <button class="status-indicator status-war" onclick="setWorldStatus('war')">Военное положение</button>
                            </div>
                        </div>

                        <div class="admin-section">
                            <h3>Статистика сервера</h3>
                            <div class="form-group">
                                <label>Общее население:</label>
                                <input type="number" id="total-population" value="15">
                                <button class="btn" onclick="updatePopulation()">Обновить</button>
                            </div>
                            <div class="form-group">
                                <label>Онлайн игроков:</label>
                                <input type="number" id="online-players" value="3">
                                <button class="btn" onclick="updateOnlinePlayers()">Обновить</button>
                            </div>
                        </div>

                        <div class="admin-section">
                            <h3>Добавить новость</h3>
                            <form id="news-form">
                                <div class="form-group">
                                    <label for="news-title">Заголовок:</label>
                                    <input type="text" id="news-title" required>
                                </div>
                                <div class="form-group">
                                    <label for="news-content">Текст новости:</label>
                                    <textarea id="news-content" rows="4" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="news-image">URL изображения (опционально):</label>
                                    <input type="url" id="news-image">
                                </div>
                                <div class="form-group">
                                    <label for="news-video">URL видео (опционально):</label>
                                    <input type="url" id="news-video">
                                </div>
                                <button type="button" class="btn" onclick="addNews()">Опубликовать новость</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>Управление игроками</h3>
                            <button class="btn" onclick="loadPlayersForm()">Добавить/Редактировать игроков</button>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- Модальное окно для скачивания модов -->
        <div id="modsModal" class="mods-modal">
            <div class="mods-modal-content">
                <span class="close-modal" onclick="closeModsModal()">&times;</span>
                <h2><i class="fas fa-download"></i> Скачать моды для сервера</h2>
                <p>Для игры на нашем сервере необходимо установить следующие моды. Скачай им и помести в папку <code>mods</code> твоего клиента Minecraft.</p>
                
                <button class="download-all-btn" onclick="downloadAllMods()">
                    <i class="fas fa-download"></i> Скачать все моды одним архивом
                </button>
                
                <div class="mods-list">
                    <div class="mod-item">
                        <h4>Forge 1.20.4</h4>
                        <p>Базовый модлоадер для Minecraft</p>
                        <button class="download-mod-btn" onclick="downloadMod('Forge', 'https://files.minecraftforge.net/net/minecraftforge/forge/')">
                            <i class="fas fa-download"></i> Скачать Forge
                        </button>
                    </div>
                    
                    <div class="mod-item">
                        <h4>OptiFine</h4>
                        <p>Улучшает производительность и добавляет HD текстуры</p>
                        <button class="download-mod-btn" onclick="downloadMod('OptiFine', 'https://optifine.net/downloads')">
                            <i class="fas fa-download"></i> Скачать OptiFine
                        </button>
                    </div>
                    
                    <div class="mod-item">
                        <h4>JourneyMap</h4>
                        <p>Карта и мини-карта в игре</p>
                        <button class="download-mod-btn" onclick="downloadMod('JourneyMap', 'https://www.curseforge.com/minecraft/mc-mods/journeymap')">
                            <i class="fas fa-download"></i> Скачать JourneyMap
                        </button>
                    </div>
                    
                    <div class="mod-item">
                        <h4>WorldEdit</h4>
                        <p>Инструмент для удобного строительства</p>
                        <button class="download-mod-btn" onclick="downloadMod('WorldEdit', 'https://www.curseforge.com/minecraft/mc-mods/worldedit')">
                            <i class="fas fa-download"></i> Скачать WorldEdit
                        </button>
                    </div>
                </div>
                
                <div class="content-box" style="margin-top: 1.5rem;">
                    <h3>Инструкция по установке:</h3>
                    <ol>
                        <li>Скачай и установи Forge для Minecraft 1.20.4</li>
                        <li>Скачай необходимые моды с этой страницы</li>
                        <li>Помести файлы модов (.jar) в папку <code>mods</code> в директории Minecraft</li>
                        <li>Запусти Minecraft, выбери профиль Forge и наслаждайся игрой!</li>
                    </ol>
                </div>
            </div>
        </div>

        <footer>
            <div class="container">
                <div class="discord-widget">
                    <h3><i class="fab fa-discord"></i> Присоединяйся к нашему Discord!</h3>
                    <p>Обсуждай, предлагай идеи, находи партнеров для строительства</p>
                    <a href="#" class="btn">Перейти в Discord</a>
                </div>
                <p>© 2024 SIGMOGRAD Minecraft Server. Все права защищены.</p>
                <p>Minecraft является товарным знаком Mojang AB.</p>
            </div>
        </footer>
    </div>

    <script>
        // ===== ОСНОВНЫЕ ФУНКЦИИ =====
        function copyIP() {
            navigator.clipboard.writeText("SIGMOGRAD.aternos.me:51798")
                .then(() => {
                    const ipElement = document.querySelector('.server-ip');
                    const originalText = ipElement.innerHTML;
                    ipElement.innerHTML = '<i class="fas fa-check"></i> IP скопирован!';
                    ipElement.style.background = 'linear-gradient(145deg, #4CAF50, #2E7D32)';

                    setTimeout(() => {
                        ipElement.innerHTML = originalText;
                        ipElement.style.background = 'linear-gradient(145deg, var(--darker-bg), var(--card-bg))';
                    }, 2000);
                });
        }

        // ===== АДМИН-ПАНЕЛЬ =====
        function showAdminPanel() {
            const password = prompt("Введите пароль администратора:");
            if (password === "admin123") { // Замените на реальный пароль
                document.getElementById('admin-panel').classList.remove('hidden');
                window.location.href = '#admin-panel';
            } else {
                alert("Неверный пароль!");
            }
        }

        function setWorldStatus(status) {
            const statusDisplay = document.getElementById('current-status');
            const statusDescription = document.getElementById('status-description');
            
            let statusText, description, statusClass;
            
            switch(status) {
                case 'war':
                    statusText = "Военное положение";
                    description = "На сервере объявлено военное положение! Все игроки призываются к обороне.";
                    statusClass = "status-war";
                    break;
                case 'protest':
                    statusText = "Протесты";
                    description = "В городах проходят массовые протесты. Политическая ситуация напряжена.";
                    statusClass = "status-protest";
                    break;
                case 'alert':
                    statusText = "Подготовка к войне";
                    description = "Государства готовятся к возможному конфликту. Укрепляются границы.";
                    statusClass = "status-alert";
                    break;
                case 'peace':
                default:
                    statusText = "Мирное время";
                    description = "На сервере царит мир и спокойствие. Игроки занимаются строительством и развитием.";
                    statusClass = "status-peace";
            }
            
            statusDisplay.textContent = statusText;
            statusDisplay.className = `status-indicator ${statusClass}`;
            statusDescription.textContent = description;
            
            // Сохраняем в localStorage
            localStorage.setItem('worldStatus', status);
            localStorage.setItem('statusDescription', description);
            
            alert(`Статус мира изменен на: ${statusText}`);
        }

        function updatePopulation() {
            const population = document.getElementById('total-population').value;
            localStorage.setItem('population', population);
            alert(`Население обновлено: ${population} игроков`);
        }

        function updateOnlinePlayers() {
            const online = document.getElementById('online-players').value;
            localStorage.setItem('onlinePlayers', online);
            alert(`Онлайн игроков обновлено: ${online}`);
        }

        // ===== УПРАВЛЕНИЕ ИГРОКАМИ =====
        const players = [
            { name: "Основатель", role: "owner", nickname: "SigmaPro", joined: "01.01.2024" },
            { name: "Главный Админ", role: "admin", nickname: "AdminAlex", joined: "02.01.2024" },
            { name: "Модератор", role: "moderator", nickname: "ModeratorMax", joined: "03.01.2024" }
        ];

        function loadPlayersList() {
            const playersList = document.getElementById('players-list');
            playersList.innerHTML = '';
            
            players.forEach(player => {
                let roleClass = 'role-player';
                let roleText = 'Игрок';
                
                switch(player.role) {
                    case 'owner': roleClass = 'role-owner'; roleText = 'Владелец'; break;
                    case 'admin': roleClass = 'role-admin'; roleText = 'Администратор'; break;
                    case 'moderator': roleClass = 'role-moderator'; roleText = 'Модератор'; break;
                }
                
                const playerCard = document.createElement('div');
                playerCard.className = 'player-card';
                playerCard.innerHTML = `
                    <h3>${player.name}</h3>
                    <div class="player-role ${roleClass}">${roleText}</div>
                    <p><strong>Никнейм:</strong> ${player.nickname}</p>
                    <p><strong>На сервере с:</strong> ${player.joined}</p>
                `;
                playersList.appendChild(playerCard);
            });
        }

        function loadPlayersForm() {
            alert("Здесь будет форма управления игроками. В реальной реализации можно добавлять/удалять игроков.");
        }

        // ===== УПРАВЛЕНИЕ НОВОСТЯМИ =====
        let news = [
            {
                title: "Открытие сервера!",
                content: "Мы рады объявить об официальном открытии сервера SIGMOGRAD! Присоединяйтесь к нашему сообществу.",
                date: "15.01.2024",
                image: "https://i.imgur.com/7R6m9Qa.png"
            }
        ];

        function loadNews() {
            const newsList = document.getElementById('news-list');
            newsList.innerHTML = '';
            
            news.forEach((item, index) => {
                const newsCard = document.createElement('div');
                newsCard.className = 'news-card';
                
                let mediaContent = '';
                if (item.image) {
                    mediaContent = `<img src="${item.image}" alt="${item.title}" class="news-image" onerror="this.style.display='none'">`;
                } else if (item.video) {
                    mediaContent = `<div class="news-video">Видео: ${item.video}</div>`;
                }
                
                newsCard.innerHTML = `
                    ${mediaContent}
                    <div class="news-content">
                        <div class="news-date">${item.date}</div>
                        <h3>${item.title}</h3>
                        <p>${item.content}</p>
                    </div>
                `;
                newsList.appendChild(newsCard);
            });
        }

        function addNews() {
            const title = document.getElementById('news-title').value;
            const content = document.getElementById('news-content').value;
            const image = document.getElementById('news-image').value;
            const video = document.getElementById('news-video').value;
            
            if (!title || !content) {
                alert("Заполните заголовок и текст новости!");
                return;
            }
            
            const newNews = {
                title: title,
                content: content,
                date: new Date().toLocaleDateString(),
                image: image || '',
                video: video || ''
            };
            
            news.unshift(newNews); // Добавляем в начало массива
            localStorage.setItem('serverNews', JSON.stringify(news));
            
            document.getElementById('news-form').reset();
            loadNews();
            
            alert("Новость успешно опубликована!");
        }

        // ===== ЗАГРУЗКА МОДОВ =====
        function openModsModal() {
            document.getElementById('modsModal').style.display = 'block';
        }

        function closeModsModal() {
            document.getElementById('modsModal').style.display = 'none';
        }

        function downloadMod(modName, modUrl) {
            window.open(modUrl, '_blank');
            alert(`Вы будете перенаправлены на страницу загрузки ${modName}`);
        }

        function downloadAllMods() {
            // В реальном проекте - ссылка на ZIP-архив
            alert('Скачивание архива со всеми модами...');
            // window.location.href = 'SIGMOGRAD_Mods_Pack.zip';
        }

        // Массивы для хранения данных
        let trades = [];
        let orders = [];

        // Данные для голосования
        let electionData = {
            candidate1: { votes: 0, name: "M1cyy_1337" },
            candidate2: { votes: 0, name: "Макс" },
            totalVotes: 0,
            votedPlayers: []
        };

        // Загрузка данных голосования из localStorage
        function loadElectionData() {
            const savedData = localStorage.getItem('electionData');
            if (savedData) {
                electionData = JSON.parse(savedData);
            }
            updateElectionResults();

            // Показать сообщение о том, что пользователь уже голосовал
            const currentPlayer = localStorage.getItem('currentPlayer');
            if (currentPlayer && electionData.votedPlayers.includes(currentPlayer)) {
                document.getElementById('voted-message-1').style.display = 'block';
                document.getElementById('voted-message-2').style.display = 'block';
            }
        }

        // Сохранение данных голосования в localStorage
        function saveElectionData() {
            localStorage.setItem('electionData', JSON.stringify(electionData));
        }

        // Функция голосования
        function vote(candidateNumber) {
            const playerName = prompt("Введите ваш игровой ник для голосования:");

            if (!playerName) {
                alert("Ник не может быть пустым!");
                return;
            }

            // Сохраняем текущего игрока
            localStorage.setItem('currentPlayer', playerName);

            // Проверяем, голосовал ли уже этот игрок
            if (electionData.votedPlayers.includes(playerName)) {
                alert("Вы уже голосовали!");
                document.getElementById('voted-message-1').style.display = 'block';
                document.getElementById('voted-message-2').style.display = 'block';
                return;
            }

            // Добавляем голос
            if (candidateNumber === 1) {
                electionData.candidate1.votes++;
            } else if (candidateNumber === 2) {
                electionData.candidate2.votes++;
            }

            // Обновляем общее количество голосов
            electionData.totalVotes = electionData.candidate1.votes + electionData.candidate2.votes;

            // Добавляем игрока в список проголосовавших
            electionData.votedPlayers.push(playerName);

            // Сохраняем результаты
            saveElectionData();

            // Обновляем отображение
            updateElectionResults();

            // Показываем сообщение о успешном голосовании
            alert("Спасибо за ваш голос, " + playerName + "!");

            // Показываем сообщение о том, что пользователь уже голосовал
            document.getElementById('voted-message-1').style.display = 'block';
            document.getElementById('voted-message-2').style.display = 'block';
        }

        // Функция обновления результатов голосования
        function updateElectionResults() {
            const total = electionData.totalVotes;

            // Обновляем счетчики голосов
            document.getElementById('votes-candidate1').textContent =
                electionData.candidate1.votes + ' голосов';
            document.getElementById('votes-candidate2').textContent =
                electionData.candidate2.votes + ' голосов';

            // Обновляем проценты
            const percent1 = total > 0 ? Math.round((electionData.candidate1.votes / total) * 100) : 0;
            const percent2 = total > 0 ? Math.round((electionData.candidate2.votes / total) * 100) : 0;

            document.getElementById('percent-candidate1').textContent = percent1 + '%';
            document.getElementById('percent-candidate2').textContent = percent2 + '%';

            // Обновляем прогресс-бары
            document.getElementById('progress-candidate1').style.width = percent1 + '%';
            document.getElementById('progress-candidate2').style.width = percent2 + '%';

            // Обновляем общее количество голосов
            document.getElementById('total-votes').textContent = electionData.totalVotes;
        }

        // Функция добавления объявления
        function addTrade() {
            const playerName = document.getElementById('player-name').value;
            const tradeType = document.getElementById('trade-type').value;
            const tradeItem = document.getElementById('trade-item').value;
            const tradePrice = document.getElementById('trade-price').value;
            const tradeContacts = document.getElementById('trade-contacts').value;

            if (!playerName || !tradeType || !tradeItem || !tradePrice || !tradeContacts) {
                alert('Заполните все поля!');
                return;
            }

            const trade = {
                player: playerName,
                type: tradeType,
                item: tradeItem,
                price: tradePrice,
                contacts: tradeContacts,
                date: new Date().toLocaleDateString()
            };

            trades.push(trade);
            localStorage.setItem('trades', JSON.stringify(trades));
            document.getElementById('trade-form').reset();
            updateTradeList();
        }

        // Функция обновления списка объявлений
        function updateTradeList() {
            const tradeList = document.getElementById('trade-list');
            const noTrades = document.getElementById('no-trades');

            if (trades.length === 0) {
                noTrades.style.display = 'block';
                tradeList.innerHTML = '';
                return;
            }

            noTrades.style.display = 'none';
            tradeList.innerHTML = '';

            trades.forEach((trade, index) => {
                const typeText = trade.type === 'sell' ? 'Продает' : trade.type === 'buy' ? 'Покупает' : 'Меняет';
                const tradeElement = document.createElement('div');
                tradeElement.className = 'announcement';
                tradeElement.innerHTML = `
                    <h4>${trade.player} ${typeText.toLowerCase()}</h4>
                    <p><strong>Предмет:</strong> ${trade.item}</p>
                    <p><strong>Цена:</strong> ${trade.price}</p>
                    <p><strong>Контакты:</strong> ${trade.contacts}</p>
                    <p><small>Добавлено: ${trade.date}</small></p>
                    <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;" onclick="removeTrade(${index})">Удалить</button>
                `;
                tradeList.appendChild(tradeElement);
            });
        }

        // Функция удаления объявления
        function removeTrade(index) {
            trades.splice(index, 1);
            localStorage.setItem('trades', JSON.stringify(trades));
            updateTradeList();
        }

        // Функция добавления заказа
        function addOrder() {
            const orderName = document.getElementById('order-name').value;
            const orderResource = document.getElementById('order-resource').value;
            const orderDeadline = document.getElementById('order-deadline').value;
            const orderPrice = document.getElementById('order-price').value;
            const orderContacts = document.getElementById('order-contacts').value;

            if (!orderName || !orderResource || !orderPrice || !orderContacts) {
                alert('Заполните все обязательные поля!');
                return;
            }

            const order = {
                player: orderName,
                resource: orderResource,
                deadline: orderDeadline,
                price: orderPrice,
                contacts: orderContacts,
                date: new Date().toLocaleDateString()
            };

            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            document.getElementById('order-form').reset();
            updateOrderList();
        }

        // Функция обновления списка заказов
        function updateOrderList() {
            const orderList = document.getElementById('order-list');
            const noOrders = document.getElementById('no-orders');

            if (orders.length === 0) {
                noOrders.style.display = 'block';
                orderList.innerHTML = '';
                return;
            }

            noOrders.style.display = 'none';
            orderList.innerHTML = '';

            orders.forEach((order, index) => {
                const deadlineText = getDeadlineText(order.deadline);
                const orderElement = document.createElement('div');
                orderElement.className = 'announcement';
                orderElement.innerHTML = `
                    <h4>${order.player} заказывает</h4>
                    <p><strong>Ресурс:</strong> ${order.resource}</p>
                    <p><strong>Срок:</strong> ${deadlineText}</p>
                    <p><strong>Оплата:</strong> ${order.price}</p>
                    <p><strong>Контакты:</strong> ${order.contacts}</p>
                    <p><small>Добавлено: ${order.date}</small></p>
                    <button class="btn" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;" onclick="removeOrder(${index})">Удалить</button>
                `;
                orderList.appendChild(orderElement);
            });
        }

        // Функция получения текста срока
        function getDeadlineText(deadline) {
            switch(deadline) {
                case '1day': return '1 день';
                case '3days': return '3 дня';
                case '1week': return '1 неделя';
                default: return 'Без сроков';
            }
        }

        // Функция удаления заказа
        function removeOrder(index) {
            orders.splice(index, 1);
            localStorage.setItem('orders', JSON.stringify(orders));
            updateOrderList();
        }

        // ===== ИНИЦИАЛИЗАЦИЯ =====
        window.addEventListener('load', function() {
            // Загрузка сохраненных данных
            const savedStatus = localStorage.getItem('worldStatus') || 'peace';
            const savedDescription = localStorage.getItem('statusDescription') || 'На сервере царит мир и спокойствие.';
            
            setWorldStatus(savedStatus);
            document.getElementById('status-description').textContent = savedDescription;
            
            // Загрузка игроков и новостей
            loadPlayersList();
            loadNews();
            
            // Загрузка других данных...
            const savedNews = localStorage.getItem('serverNews');
            if (savedNews) {
                news = JSON.parse(savedNews);
                loadNews();
            }
            
            const savedPopulation = localStorage.getItem('population');
            if (savedPopulation) {
                document.getElementById('total-population').value = savedPopulation;
            }
            
            const savedOnline = localStorage.getItem('onlinePlayers');
            if (savedOnline) {
                document.getElementById('online-players').value = savedOnline;
            }
            
            // Загрузка данных голосования
            loadElectionData();

            // Загрузка данных о торговле и заказах
            const savedTrades = localStorage.getItem('trades');
            if (savedTrades) {
                trades = JSON.parse(savedTrades);
                updateTradeList();
            }

            const savedOrders = localStorage.getItem('orders');
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
                updateOrderList();
            }
        });

        // Закрытие модального окна при клике вне его
        window.onclick = function(event) {
            const modal = document.getElementById('modsModal');
            if (event.target == modal) {
                closeModsModal();
            }
        }
    </script>
</body>
</html>

